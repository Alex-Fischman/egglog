;; created by running test_source_optimized and removing the PyObject functions
;; pytest -s python/tests/test_array_api.py::TestLDA::test_source_optimized --benchmark-disable
(push 1)
(push 1)
(sort DType)
(function DType_float64 () DType)
(let %__expr_4101187900440652363 (DType_float64))
(sort Boolean)
(function DType___eq__ (DType DType) Boolean)
(sort NDArray)
(function NDArray_dtype (NDArray) DType)
(function assume_isfinite (NDArray) NDArray)
(sort TupleInt)
(function assume_shape (NDArray TupleInt) NDArray)
(function assume_dtype (NDArray DType) NDArray)
(function NDArray_var (String) NDArray :cost 200)
(sort Int)
(sort Vec_Int (Vec Int))
(function TupleInt_from_vec (Vec_Int) TupleInt)
(function Int___init__ (i64) Int)
(DType___eq__ %__expr_4101187900440652363 (NDArray_dtype (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4)))))))
(ruleset array_api_ruleset)
(function i-Int__-Int_i (Int Int) Int)
(rewrite (i-Int__-Int_i i _) i :ruleset array_api_ruleset)
(function TupleInt_single (Int) TupleInt)
(sort UnstableFn_Int_Int (UnstableFn (Int) Int))
(function TupleInt___init__ (Int UnstableFn_Int_Int) TupleInt :unextractable)
(rewrite (TupleInt_single i) (TupleInt___init__ (Int___init__ 1) (unstable-fn "i-Int__-Int_i" i)) :ruleset array_api_ruleset)
(function i-Int_i (Int) Int)
(rewrite (i-Int_i i) i :ruleset array_api_ruleset)
(function TupleInt_range (Int) TupleInt)
(rewrite (TupleInt_range stop) (TupleInt___init__ stop (unstable-fn "i-Int_i")) :ruleset array_api_ruleset)
(function index_vec_int (Vec_Int Int) Int)
(rewrite (TupleInt_from_vec vec) (TupleInt___init__ (Int___init__ (vec-length vec)) (unstable-fn "index_vec_int" vec)) :ruleset array_api_ruleset)
(function Int_if_ (Boolean Int Int) Int)
(function Int___lt__ (Int Int) Boolean)
(function TupleInt_length (TupleInt) Int)
(function TupleInt___getitem__ (TupleInt Int) Int)
(function Int___sub__ (Int Int) Int)
(function other-TupleInt_self-TupleInt_i-Int__Int_if___Int___lt___i__TupleInt_length_self____TupleInt___getitem___self_i___TupleInt___getitem___other__Int___sub___i__TupleInt_length_self____ (TupleInt TupleInt Int) Int)
(rewrite (other-TupleInt_self-TupleInt_i-Int__Int_if___Int___lt___i__TupleInt_length_self____TupleInt___getitem___self_i___TupleInt___getitem___other__Int___sub___i__TupleInt_length_self____ other self i) (Int_if_ (Int___lt__ i (TupleInt_length self)) (TupleInt___getitem__ self i) (TupleInt___getitem__ other (Int___sub__ i (TupleInt_length self)))) :ruleset array_api_ruleset)
(function TupleInt___add__ (TupleInt TupleInt) TupleInt)
(function Int___add__ (Int Int) Int)
(rewrite (TupleInt___add__ self other) (TupleInt___init__ (Int___add__ (TupleInt_length self) (TupleInt_length other)) (unstable-fn "other-TupleInt_self-TupleInt_i-Int__Int_if___Int___lt___i__TupleInt_length_self____TupleInt___getitem___self_i___TupleInt___getitem___other__Int___sub___i__TupleInt_length_self____" other self)) :ruleset array_api_ruleset)
(function Boolean___or__ (Boolean Boolean) Boolean)
(function Int___eq__ (Int Int) Boolean)
(function i-Int_acc-Boolean_j-Int__Boolean___or___acc__Int___eq___i_j__ (Int Boolean Int) Boolean)
(rewrite (i-Int_acc-Boolean_j-Int__Boolean___or___acc__Int___eq___i_j__ i acc j) (Boolean___or__ acc (Int___eq__ i j)) :ruleset array_api_ruleset)
(function TupleInt_contains (TupleInt Int) Boolean)
(sort UnstableFn_Boolean_Boolean_Int (UnstableFn (Boolean Int) Boolean))
(function TupleInt_fold_boolean (TupleInt Boolean UnstableFn_Boolean_Boolean_Int) Boolean)
(function FALSE () Boolean)
(rewrite (TupleInt_contains self i) (TupleInt_fold_boolean self (FALSE) (unstable-fn "i-Int_acc-Boolean_j-Int__Boolean___or___acc__Int___eq___i_j__" i)) :ruleset array_api_ruleset)
(function f-UnstableFn_Int_Int_self-TupleInt_i-Int__unstable-app_f__TupleInt___getitem___self_i__ (UnstableFn_Int_Int TupleInt Int) Int)
(rewrite (f-UnstableFn_Int_Int_self-TupleInt_i-Int__unstable-app_f__TupleInt___getitem___self_i__ f self i) (unstable-app f (TupleInt___getitem__ self i)) :ruleset array_api_ruleset)
(function TupleInt_map (TupleInt UnstableFn_Int_Int) TupleInt :cost 100)
(rewrite (TupleInt_map self f) (TupleInt___init__ (TupleInt_length self) (unstable-fn "f-UnstableFn_Int_Int_self-TupleInt_i-Int__unstable-app_f__TupleInt___getitem___self_i__" f self)) :ruleset array_api_ruleset)
(function i-TupleInt__-Int_i (TupleInt Int) TupleInt)
(rewrite (i-TupleInt__-Int_i i _) i :ruleset array_api_ruleset)
(sort TupleTupleInt)
(function TupleTupleInt_single (TupleInt) TupleTupleInt)
(sort UnstableFn_TupleInt_Int (UnstableFn (Int) TupleInt))
(function TupleTupleInt___init__ (Int UnstableFn_TupleInt_Int) TupleTupleInt)
(rewrite (TupleTupleInt_single i) (TupleTupleInt___init__ (Int___init__ 1) (unstable-fn "i-TupleInt__-Int_i" i)) :ruleset array_api_ruleset)
(function TupleTupleInt_from_vec (Vec_Int) TupleInt)
(rewrite (TupleTupleInt_from_vec vec) (TupleInt___init__ (Int___init__ (vec-length vec)) (unstable-fn "index_vec_int" vec)) :ruleset array_api_ruleset)
(function TupleInt_if_ (Boolean TupleInt TupleInt) TupleInt)
(function TupleTupleInt_length (TupleTupleInt) Int)
(function TupleTupleInt___getitem__ (TupleTupleInt Int) TupleInt)
(function other-TupleTupleInt_self-TupleTupleInt_i-Int__TupleInt_if___Int___lt___i__TupleTupleInt_length_self____TupleTupleInt___getitem___self_i___TupleTupleInt___getitem___other__Int___sub___i__TupleTupleInt_length_self____ (TupleTupleInt TupleTupleInt Int) TupleInt)
(rewrite (other-TupleTupleInt_self-TupleTupleInt_i-Int__TupleInt_if___Int___lt___i__TupleTupleInt_length_self____TupleTupleInt___getitem___self_i___TupleTupleInt___getitem___other__Int___sub___i__TupleTupleInt_length_self____ other self i) (TupleInt_if_ (Int___lt__ i (TupleTupleInt_length self)) (TupleTupleInt___getitem__ self i) (TupleTupleInt___getitem__ other (Int___sub__ i (TupleTupleInt_length self)))) :ruleset array_api_ruleset)
(function TupleTupleInt___add__ (TupleTupleInt TupleTupleInt) TupleTupleInt)
(rewrite (TupleTupleInt___add__ self other) (TupleTupleInt___init__ (Int___add__ (TupleTupleInt_length self) (TupleTupleInt_length other)) (unstable-fn "other-TupleTupleInt_self-TupleTupleInt_i-Int__TupleInt_if___Int___lt___i__TupleTupleInt_length_self____TupleTupleInt___getitem___self_i___TupleTupleInt___getitem___other__Int___sub___i__TupleTupleInt_length_self____" other self)) :ruleset array_api_ruleset)
(function NDArray_size (NDArray) Int)
(sort UnstableFn_Int_Int_Int (UnstableFn (Int Int) Int))
(function TupleInt_fold (TupleInt Int UnstableFn_Int_Int_Int) Int)
(function NDArray_shape (NDArray) TupleInt)
(function Int___mul__ (Int Int) Int)
(rewrite (NDArray_size x) (TupleInt_fold (NDArray_shape x) (Int___init__ 1) (unstable-fn "Int___mul__")) :ruleset array_api_ruleset)
(function unique_values (NDArray) NDArray)
(sort TupleValue)
(function NDArray_vector (TupleValue) NDArray)
(sort Value)
(function possible_values (Value) TupleValue)
(function NDArray_index (NDArray TupleInt) Value)
(function ALL_INDICES () TupleInt)
(rewrite (unique_values a) (NDArray_vector (possible_values (NDArray_index a (ALL_INDICES)))) :ruleset array_api_ruleset)
(function Value_isfinite (Value) Boolean)
(function Value_int (Int) Value)
(function TRUE () Boolean)
(rewrite (Value_isfinite (Value_int i)) (TRUE) :ruleset array_api_ruleset)
(function Value_bool (Boolean) Value)
(rewrite (Value_isfinite (Value_bool b)) (TRUE) :ruleset array_api_ruleset)
(sort Float)
(function Value_float (Float) Value)
(function Float___init__ (f64) Float :cost 3)
(rewrite (Value_isfinite (Value_float (Float___init__ f))) (TRUE) :when ((!= f NaN)) :ruleset array_api_ruleset)
(function isfinite (NDArray) NDArray)
(sort OptionalIntOrTuple)
(function sum (NDArray OptionalIntOrTuple) NDArray)
(function OptionalIntOrTuple_none () OptionalIntOrTuple)
(function NDArray_scalar (Value) NDArray)
(rewrite (isfinite (sum arr (OptionalIntOrTuple_none))) (NDArray_scalar (Value_bool (Value_isfinite (NDArray_index arr (ALL_INDICES))))) :ruleset array_api_ruleset)
(function assume_value_one_of (NDArray TupleValue) NDArray)
(rewrite (NDArray_shape (assume_value_one_of x vs)) (NDArray_shape x) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (assume_value_one_of x vs)) (NDArray_dtype x) :ruleset array_api_ruleset)
(rule ((= v (NDArray_index (assume_value_one_of x vs) idx)))
      ((union v (NDArray_index x idx))
       (union (possible_values v) vs))
        :ruleset array_api_ruleset )
(rewrite (NDArray_shape (assume_isfinite x)) (NDArray_shape x) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (assume_isfinite x)) (NDArray_dtype x) :ruleset array_api_ruleset)
(rewrite (NDArray_index (assume_isfinite x) ti) (NDArray_index x ti) :ruleset array_api_ruleset)
(rewrite (Value_isfinite (NDArray_index (assume_isfinite x) ti)) (TRUE) :ruleset array_api_ruleset)
(rewrite (NDArray_shape (assume_shape x shape)) shape :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (assume_shape x shape)) (NDArray_dtype x) :ruleset array_api_ruleset)
(rewrite (NDArray_index (assume_shape x shape) idx) (NDArray_index x idx) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (assume_dtype x dtype)) dtype :ruleset array_api_ruleset)
(rewrite (NDArray_shape (assume_dtype x dtype)) (NDArray_shape x) :ruleset array_api_ruleset)
(rewrite (NDArray_index (assume_dtype x dtype) idx) (NDArray_index x idx) :ruleset array_api_ruleset)
(sort IndexKey)
(function NDArray___getitem__ (NDArray IndexKey) NDArray)
(function IndexKey_int (Int) IndexKey)
(rewrite (NDArray___getitem__ x (IndexKey_int i)) (NDArray_scalar (NDArray_index x (TupleInt_single i))) :ruleset array_api_ruleset)
(sort OptionalBool)
(function reshape (NDArray TupleInt OptionalBool) NDArray)
(rule ((= __a (reshape x shape copy)))
      ((NDArray_shape x)
       (TupleInt_length (NDArray_shape x)))
        :ruleset array_api_ruleset )
(rule ((reshape x shape copy))
      ((TupleInt_length shape)
       (TupleInt___getitem__ shape (Int___init__ 0)))
        :ruleset array_api_ruleset )
(rewrite (reshape x shape copy) x :when ((= (TupleInt_length (NDArray_shape x)) (Int___init__ 1)) (= (TupleInt_length shape) (Int___init__ 1)) (= (TupleInt___getitem__ shape (Int___init__ 0)) (Int___init__ -1))) :ruleset array_api_ruleset)
(function TupleValue_length (TupleValue) Int)
(rewrite (NDArray_shape (NDArray_vector vs)) (TupleInt_single (TupleValue_length vs)) :ruleset array_api_ruleset)
(function Value_dtype (Value) DType)
(function TupleValue___getitem__ (TupleValue Int) Value)
(rewrite (NDArray_dtype (NDArray_vector vs)) (Value_dtype (TupleValue___getitem__ vs (Int___init__ 0))) :ruleset array_api_ruleset)
(rewrite (NDArray_index (NDArray_vector vs) ti) (TupleValue___getitem__ vs (TupleInt___getitem__ ti (Int___init__ 0))) :ruleset array_api_ruleset)
(function TupleInt_EMPTY () TupleInt)
(rewrite (NDArray_shape (NDArray_scalar v)) (TupleInt_EMPTY) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (NDArray_scalar v)) (Value_dtype v) :ruleset array_api_ruleset)
(rewrite (NDArray_index (NDArray_scalar v) (TupleInt_EMPTY)) v :ruleset array_api_ruleset)
(function any (NDArray) NDArray)
(function TupleValue_includes (TupleValue Value) Boolean)
(function Value_to_truthy_value (Value) Value)
(rewrite (any x) (NDArray_scalar (Value_bool (TupleValue_includes (possible_values (Value_to_truthy_value (NDArray_index x (ALL_INDICES)))) (Value_bool (TRUE))))) :ruleset array_api_ruleset)
(function NDArray___lt__ (NDArray NDArray) NDArray)
(function Value___lt__ (Value Value) Value)
(function broadcast_index (TupleInt TupleInt TupleInt) TupleInt)
(function broadcast_shapes (TupleInt TupleInt) TupleInt)
(rewrite (NDArray_index (NDArray___lt__ x y) idx) (Value___lt__ (NDArray_index x (broadcast_index (NDArray_shape x) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx)) (NDArray_index y (broadcast_index (NDArray_shape y) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx))) :ruleset array_api_ruleset)
(function NDArray___truediv__ (NDArray NDArray) NDArray)
(function Value___truediv__ (Value Value) Value)
(rewrite (NDArray_index (NDArray___truediv__ x y) idx) (Value___truediv__ (NDArray_index x (broadcast_index (NDArray_shape x) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx)) (NDArray_index y (broadcast_index (NDArray_shape y) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx))) :ruleset array_api_ruleset)
(rewrite (NDArray_index (NDArray_scalar v) idx) v :ruleset array_api_ruleset)
(function astype (NDArray DType) NDArray)
(function Value_astype (Value DType) Value)
(rewrite (NDArray_index (astype x dtype) idx) (Value_astype (NDArray_index x idx) dtype) :ruleset array_api_ruleset)
(relation greater_zero (Value))
(sort TupleNDArray)
(function TupleNDArray___getitem__ (TupleNDArray Int) NDArray)
(function unique_counts (NDArray) TupleNDArray)
(rule ((= v (NDArray_index (TupleNDArray___getitem__ (unique_counts x) (Int___init__ 1)) idx)))
      ((greater_zero v))
        :ruleset array_api_ruleset )
(rule ((greater_zero v)
       (= v1 (Value_astype v dtype)))
      ((greater_zero v1))
        :ruleset array_api_ruleset )
(rule ((= v (Value_float (Float___init__ f)))
       (> f 0.0))
      ((greater_zero v))
        :ruleset array_api_ruleset )
(rule ((= v (Value_int (Int___init__ i)))
       (> i 0))
      ((greater_zero v))
        :ruleset array_api_ruleset )
(rule ((greater_zero v)
       (greater_zero v1)
       (= v2 (Value___truediv__ v v1)))
      ((greater_zero v2))
        :ruleset array_api_ruleset )
(rule ((greater_zero v)
       (= v1 (Value___lt__ v (Value_int (Int___init__ 0)))))
      ((union v1 (Value_bool (FALSE))))
        :ruleset array_api_ruleset )
(function TupleValue___init__ (Value) TupleValue)
(rewrite (possible_values (Value_bool b)) (TupleValue___init__ (Value_bool b)) :ruleset array_api_ruleset)
(rule ((= v1 (Value_astype v dtype))
       (greater_zero v))
      ((greater_zero v1))
        :ruleset array_api_ruleset )
(function TupleNDArray_length (TupleNDArray) Int)
(function svd (NDArray Boolean) TupleNDArray)
(rewrite (TupleNDArray_length (svd x full_matrices)) (Int___init__ 3) :ruleset array_api_ruleset)
(function unique_inverse (NDArray) TupleNDArray)
(rewrite (TupleNDArray_length (unique_inverse x)) (Int___init__ 2) :ruleset array_api_ruleset)
(rewrite (TupleNDArray___getitem__ (unique_inverse x) (Int___init__ 0)) (unique_values x) :ruleset array_api_ruleset)
(function ndarray-abs (NDArray) NDArray)
(function Float_abs (Float) Float)
(rewrite (ndarray-abs (NDArray_scalar (Value_float f))) (NDArray_scalar (Value_float (Float_abs f))) :ruleset array_api_ruleset)
(rewrite (TupleNDArray_length (unique_counts x)) (Int___init__ 2) :ruleset array_api_ruleset)
(rewrite (sum (TupleNDArray___getitem__ (unique_counts x) (Int___init__ 1)) (OptionalIntOrTuple_none)) (NDArray_scalar (Value_int (NDArray_size x))) :ruleset array_api_ruleset)
(rewrite (sum (astype (TupleNDArray___getitem__ (unique_counts x) (Int___init__ 1)) dtype) (OptionalIntOrTuple_none)) (astype (NDArray_scalar (Value_int (NDArray_size x))) dtype) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (astype x dtype)) dtype :ruleset array_api_ruleset)
(rewrite (astype (NDArray_scalar (Value_int (Int___init__ i))) %__expr_4101187900440652363) (NDArray_scalar (Value_float (Float___init__ (to-f64 i)))) :ruleset array_api_ruleset)
(sort OptionalInt)
(function concat (TupleNDArray OptionalInt) NDArray)
(function TupleNDArray___init__ (NDArray) TupleNDArray)
(function OptionalInt_none () OptionalInt)
(rewrite (concat (TupleNDArray___init__ x) (OptionalInt_none)) x :ruleset array_api_ruleset)
(rewrite (unique_values (unique_values x)) (unique_values x) :ruleset array_api_ruleset)
(rewrite (sum (NDArray___truediv__ x (NDArray_scalar v)) (OptionalIntOrTuple_none)) (NDArray___truediv__ (sum x (OptionalIntOrTuple_none)) (NDArray_scalar v)) :ruleset array_api_ruleset)
(function NDArray_ndim (NDArray) Int)
(sort OptionalDType)
(sort OptionalDevice)
(function asarray (NDArray OptionalDType OptionalBool OptionalDevice) NDArray)
(function OptionalDevice_none () OptionalDevice)
(rewrite (NDArray_ndim (asarray a d ob (OptionalDevice_none))) (NDArray_ndim a) :ruleset array_api_ruleset)
(function OptionalDType_none () OptionalDType)
(function OptionalBool_none () OptionalBool)
(rewrite (asarray a (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)) a :ruleset array_api_ruleset)
(function TupleNDArray___add__ (TupleNDArray TupleNDArray) TupleNDArray)
(function TupleNDArray_EMPTY () TupleNDArray)
(rewrite (TupleNDArray___add__ ti (TupleNDArray_EMPTY)) ti :ruleset array_api_ruleset)
(rewrite (TupleNDArray_length (TupleNDArray___init__ n)) (Int___init__ 1) :ruleset array_api_ruleset)
(rewrite (TupleNDArray_length (TupleNDArray___add__ ti ti2)) (Int___add__ (TupleNDArray_length ti) (TupleNDArray_length ti2)) :ruleset array_api_ruleset)
(sort UnstableFn_Value_TupleInt (UnstableFn (TupleInt) Value))
(function NDArray___init__ (TupleInt DType UnstableFn_Value_TupleInt) NDArray)
(rewrite (NDArray_shape (NDArray___init__ shape dtype idx_fn)) shape :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (NDArray___init__ shape dtype idx_fn)) dtype :ruleset array_api_ruleset)
(rewrite (NDArray_ndim x) (TupleInt_length (NDArray_shape x)) :ruleset array_api_ruleset)
(function NDArray_to_value (NDArray) Value)
(rewrite (NDArray_to_value x) (NDArray_index x (TupleInt_EMPTY)) :ruleset array_api_ruleset)
(rewrite (NDArray___truediv__ (NDArray_scalar (Value_float f)) (NDArray_scalar (Value_float f))) (NDArray_scalar (Value_float (Float___init__ 1.0))) :ruleset array_api_ruleset)
(function NDArray___sub__ (NDArray NDArray) NDArray)
(rewrite (NDArray___sub__ (NDArray_scalar (Value_float f)) (NDArray_scalar (Value_float f))) (NDArray_scalar (Value_float (Float___init__ 0.0))) :ruleset array_api_ruleset)
(function NDArray___gt__ (NDArray NDArray) NDArray)
(rewrite (NDArray___gt__ (NDArray_scalar (Value_float (Float___init__ fi1))) (NDArray_scalar (Value_float (Float___init__ fi2)))) (NDArray_scalar (Value_bool (TRUE))) :when ((> fi1 fi2)) :ruleset array_api_ruleset)
(rewrite (NDArray___gt__ (NDArray_scalar (Value_float (Float___init__ fi1))) (NDArray_scalar (Value_float (Float___init__ fi2)))) (NDArray_scalar (Value_bool (FALSE))) :when ((<= fi1 fi2)) :ruleset array_api_ruleset)
(function NDArray_T (NDArray) NDArray)
(rewrite (NDArray_T (NDArray_T x)) x :ruleset array_api_ruleset)
(function TupleValue___add__ (TupleValue TupleValue) TupleValue)
(function TupleValue_EMPTY () TupleValue)
(rewrite (TupleValue___add__ ti (TupleValue_EMPTY)) ti :ruleset array_api_ruleset)
(rewrite (TupleValue_length (TupleValue_EMPTY)) (Int___init__ 0) :ruleset array_api_ruleset)
(rewrite (TupleValue_length (TupleValue___init__ v)) (Int___init__ 1) :ruleset array_api_ruleset)
(rewrite (TupleValue_length (TupleValue___add__ ti ti2)) (Int___add__ (TupleValue_length ti) (TupleValue_length ti2)) :ruleset array_api_ruleset)
(rewrite (TupleValue___getitem__ (TupleValue___init__ v) (Int___init__ 0)) v :ruleset array_api_ruleset)
(rewrite (TupleValue___getitem__ (TupleValue___add__ (TupleValue___init__ v) ti) (Int___init__ 0)) v :ruleset array_api_ruleset)
(rule ((= v (TupleValue___getitem__ (TupleValue___add__ (TupleValue___init__ v2) ti) (Int___init__ k)))
       (> k 0))
      ((union v (TupleValue___getitem__ ti (Int___init__ (- k 1)))))
        :ruleset array_api_ruleset )
(rewrite (TupleValue_includes (TupleValue_EMPTY) v) (FALSE) :ruleset array_api_ruleset)
(rewrite (TupleValue_includes (TupleValue___init__ v) v) (TRUE) :ruleset array_api_ruleset)
(rewrite (TupleValue_includes (TupleValue___init__ v) v2) (FALSE) :when ((!= v v2)) :ruleset array_api_ruleset)
(rewrite (TupleValue_includes (TupleValue___add__ ti ti2) v) (Boolean___or__ (TupleValue_includes ti v) (TupleValue_includes ti2 v)) :ruleset array_api_ruleset)
(function DType_int64 () DType)
(rewrite (Value_dtype (Value_int i)) (DType_int64) :ruleset array_api_ruleset)
(rewrite (Value_dtype (Value_float f)) %__expr_4101187900440652363 :ruleset array_api_ruleset)
(function DType_bool () DType)
(rewrite (Value_dtype (Value_bool b)) (DType_bool) :ruleset array_api_ruleset)
(function Value_to_bool (Value) Boolean)
(rewrite (Value_to_bool (Value_bool b)) b :ruleset array_api_ruleset)
(function Value_to_int (Value) Int)
(rewrite (Value_to_int (Value_int i)) i :ruleset array_api_ruleset)
(rewrite (Value_to_truthy_value (Value_bool b)) (Value_bool b) :ruleset array_api_ruleset)
(sort IsDtypeKind)
(function isdtype (DType IsDtypeKind) Boolean)
(function DType_float32 () DType)
(function IsDtypeKind_string (String) IsDtypeKind)
(rewrite (isdtype (DType_float32) (IsDtypeKind_string "integral")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype %__expr_4101187900440652363 (IsDtypeKind_string "integral")) (FALSE) :ruleset array_api_ruleset)
(function DType_object () DType)
(rewrite (isdtype (DType_object) (IsDtypeKind_string "integral")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int64) (IsDtypeKind_string "integral")) (TRUE) :ruleset array_api_ruleset)
(function DType_int32 () DType)
(rewrite (isdtype (DType_int32) (IsDtypeKind_string "integral")) (TRUE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_float32) (IsDtypeKind_string "real floating")) (TRUE) :ruleset array_api_ruleset)
(rewrite (isdtype %__expr_4101187900440652363 (IsDtypeKind_string "real floating")) (TRUE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_object) (IsDtypeKind_string "real floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int64) (IsDtypeKind_string "real floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int32) (IsDtypeKind_string "real floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_float32) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype %__expr_4101187900440652363 (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_object) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int64) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int32) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(function IsDtypeKind_NULL () IsDtypeKind)
(rewrite (isdtype d (IsDtypeKind_NULL)) (FALSE) :ruleset array_api_ruleset)
(function IsDtypeKind_dtype (DType) IsDtypeKind)
(rewrite (isdtype d (IsDtypeKind_dtype d)) (TRUE) :ruleset array_api_ruleset)
(function IsDtypeKind___or__ (IsDtypeKind IsDtypeKind) IsDtypeKind :cost 10)
(rewrite (isdtype d (IsDtypeKind___or__ k1 k2)) (Boolean___or__ (isdtype d k1) (isdtype d k2)) :ruleset array_api_ruleset)
(rewrite (IsDtypeKind___or__ k1 (IsDtypeKind_NULL)) k1 :ruleset array_api_ruleset)
(rewrite (DType___eq__ %__expr_4101187900440652363 %__expr_4101187900440652363) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ %__expr_4101187900440652363 (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ %__expr_4101187900440652363 (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ %__expr_4101187900440652363 (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ %__expr_4101187900440652363 (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) %__expr_4101187900440652363) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_float32)) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) %__expr_4101187900440652363) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_int32)) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) %__expr_4101187900440652363) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_int64)) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) %__expr_4101187900440652363) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_object)) (TRUE) :ruleset array_api_ruleset)
(function idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___ (UnstableFn_Int_Int Int) Int)
(rewrite (idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___ idx_fn i) (unstable-app idx_fn (Int___add__ i (Int___init__ 1))) :ruleset array_api_ruleset)
(rewrite (TupleInt_length (TupleInt___init__ i idx_fn)) i :ruleset array_api_ruleset)
(rewrite (TupleInt___getitem__ (TupleInt___init__ i idx_fn) i2) (unstable-app idx_fn i2) :ruleset array_api_ruleset)
(rewrite (index_vec_int vs (Int___init__ k)) (vec-get vs k) :when ((> (vec-length vs) k)) :ruleset array_api_ruleset)
(rewrite (TupleInt_fold (TupleInt___init__ (Int___init__ 0) idx_fn) i f) i :ruleset array_api_ruleset)
(rewrite (TupleInt_fold (TupleInt___init__ (Int___init__ k) idx_fn) i f) (unstable-app f (TupleInt_fold (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) i f) (unstable-app idx_fn (Int___init__ 0))) :when ((!= k 0)) :ruleset array_api_ruleset)
(rewrite (TupleInt_fold_boolean (TupleInt___init__ (Int___init__ 0) idx_fn) b bool_f) b :ruleset array_api_ruleset)
(rewrite (TupleInt_fold_boolean (TupleInt___init__ (Int___init__ k) idx_fn) b bool_f) (unstable-app bool_f (TupleInt_fold_boolean (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) b bool_f) (unstable-app idx_fn (Int___init__ 0))) :when ((!= k 0)) :ruleset array_api_ruleset)
(sort UnstableFn_Boolean_Int (UnstableFn (Int) Boolean))
(function TupleInt_filter (TupleInt UnstableFn_Boolean_Int) TupleInt :cost 100)
(rewrite (TupleInt_filter (TupleInt___init__ (Int___init__ 0) idx_fn) filter_f) (TupleInt___init__ (Int___init__ 0) idx_fn) :ruleset array_api_ruleset)
(rewrite (TupleInt_filter (TupleInt___init__ (Int___init__ k) idx_fn) filter_f) (TupleInt_if_ (unstable-app filter_f (unstable-app idx_fn (Int___init__ k))) (TupleInt___add__ (TupleInt_single (unstable-app idx_fn (Int___init__ k))) (TupleInt_filter (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) filter_f)) (TupleInt_filter (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) filter_f)) :when ((!= k 0)) :ruleset array_api_ruleset)
(function bottom_indexing (Int) Int)
(rewrite (TupleInt_EMPTY) (TupleInt___init__ (Int___init__ 0) (unstable-fn "bottom_indexing")) :ruleset array_api_ruleset)
(rewrite (TupleInt_if_ (TRUE) ti ti2) ti :ruleset array_api_ruleset)
(rewrite (TupleInt_if_ (FALSE) ti ti2) ti2 :ruleset array_api_ruleset)
(rewrite (Float_abs (Float___init__ f)) (Float___init__ f) :when ((>= f 0.0)) :ruleset array_api_ruleset)
(rewrite (Float_abs (Float___init__ f)) (Float___init__ (neg f)) :when ((< f 0.0)) :ruleset array_api_ruleset)
(function Float_rational (Rational) Float :cost 2)
(rewrite (Float___init__ f) (Float_rational (rational (to-i64 f) 1)) :when ((= (to-f64 (to-i64 f)) f)) :ruleset array_api_ruleset)
(function Float_from_int (Int) Float)
(rewrite (Float_from_int (Int___init__ i)) (Float_rational (rational i 1)) :ruleset array_api_ruleset)
(function Float___add__ (Float Float) Float)
(rewrite (Float___add__ (Float___init__ f) (Float___init__ f2)) (Float___init__ (+ f f2)) :ruleset array_api_ruleset)
(function Float___sub__ (Float Float) Float)
(rewrite (Float___sub__ (Float___init__ f) (Float___init__ f2)) (Float___init__ (- f f2)) :ruleset array_api_ruleset)
(function Float___mul__ (Float Float) Float)
(rewrite (Float___mul__ (Float___init__ f) (Float___init__ f2)) (Float___init__ (* f f2)) :ruleset array_api_ruleset)
(function Float___truediv__ (Float Float) Float)
(rewrite (Float___truediv__ (Float_rational r) (Float_rational r1)) (Float_rational (/ r r1)) :ruleset array_api_ruleset)
(rewrite (Float___add__ (Float_rational r) (Float_rational r1)) (Float_rational (+ r r1)) :ruleset array_api_ruleset)
(rewrite (Float___sub__ (Float_rational r) (Float_rational r1)) (Float_rational (- r r1)) :ruleset array_api_ruleset)
(rewrite (Float___mul__ (Float_rational r) (Float_rational r1)) (Float_rational (* r r1)) :ruleset array_api_ruleset)
(rewrite (Int___eq__ (Int___init__ i) (Int___init__ i)) (TRUE) :ruleset array_api_ruleset)
(rule ((= r (Int___eq__ (Int___init__ i) (Int___init__ j)))
       (!= i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(function Int___ge__ (Int Int) Boolean)
(rewrite (Int___ge__ (Int___init__ i) (Int___init__ i)) (TRUE) :ruleset array_api_ruleset)
(rule ((= r (Int___ge__ (Int___init__ i) (Int___init__ j)))
       (> i j))
      ((union r (TRUE)))
        :ruleset array_api_ruleset )
(rule ((= r (Int___ge__ (Int___init__ i) (Int___init__ j)))
       (< i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(rewrite (Int___lt__ (Int___init__ i) (Int___init__ i)) (FALSE) :ruleset array_api_ruleset)
(rule ((= r (Int___lt__ (Int___init__ i) (Int___init__ j)))
       (< i j))
      ((union r (TRUE)))
        :ruleset array_api_ruleset )
(rule ((= r (Int___lt__ (Int___init__ i) (Int___init__ j)))
       (> i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(function Int___gt__ (Int Int) Boolean)
(rewrite (Int___gt__ (Int___init__ i) (Int___init__ i)) (FALSE) :ruleset array_api_ruleset)
(rule ((= r (Int___gt__ (Int___init__ i) (Int___init__ j)))
       (> i j))
      ((union r (TRUE)))
        :ruleset array_api_ruleset )
(rule ((= r (Int___gt__ (Int___init__ i) (Int___init__ j)))
       (< i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(function Int_i64 (Int) i64)
(rule ((= o (Int___init__ j)))
      ((set (Int_i64 o) j))
        :ruleset array_api_ruleset )
(rewrite (Int___add__ (Int___init__ i) (Int___init__ j)) (Int___init__ (+ i j)) :ruleset array_api_ruleset)
(rewrite (Int___sub__ (Int___init__ i) (Int___init__ j)) (Int___init__ (- i j)) :ruleset array_api_ruleset)
(rewrite (Int___mul__ (Int___init__ i) (Int___init__ j)) (Int___init__ (* i j)) :ruleset array_api_ruleset)
(function Int___truediv__ (Int Int) Int)
(rewrite (Int___truediv__ (Int___init__ i) (Int___init__ j)) (Int___init__ (/ i j)) :ruleset array_api_ruleset)
(function Int___mod__ (Int Int) Int)
(rewrite (Int___mod__ (Int___init__ i) (Int___init__ j)) (Int___init__ (% i j)) :ruleset array_api_ruleset)
(function Int___and__ (Int Int) Int)
(rewrite (Int___and__ (Int___init__ i) (Int___init__ j)) (Int___init__ (& i j)) :ruleset array_api_ruleset)
(function Int___or__ (Int Int) Int)
(rewrite (Int___or__ (Int___init__ i) (Int___init__ j)) (Int___init__ (| i j)) :ruleset array_api_ruleset)
(function Int___xor__ (Int Int) Int)
(rewrite (Int___xor__ (Int___init__ i) (Int___init__ j)) (Int___init__ (^ i j)) :ruleset array_api_ruleset)
(function Int___lshift__ (Int Int) Int)
(rewrite (Int___lshift__ (Int___init__ i) (Int___init__ j)) (Int___init__ (<< i j)) :ruleset array_api_ruleset)
(function Int___rshift__ (Int Int) Int)
(rewrite (Int___rshift__ (Int___init__ i) (Int___init__ j)) (Int___init__ (>> i j)) :ruleset array_api_ruleset)
(function Int___invert__ (Int) Int)
(rewrite (Int___invert__ (Int___init__ i)) (Int___init__ (not-i64 i)) :ruleset array_api_ruleset)
(rewrite (Int_if_ (TRUE) o b) o :ruleset array_api_ruleset)
(rewrite (Int_if_ (FALSE) o b) b :ruleset array_api_ruleset)
(function Boolean_bool (Boolean) bool)
(rule ((= x (TRUE)))
      ((set (Boolean_bool x) true))
        :ruleset array_api_ruleset )
(rule ((= x (FALSE)))
      ((set (Boolean_bool x) false))
        :ruleset array_api_ruleset )
(rewrite (Boolean___or__ (TRUE) x) (TRUE) :ruleset array_api_ruleset)
(rewrite (Boolean___or__ (FALSE) x) x :ruleset array_api_ruleset)
(function Boolean___and__ (Boolean Boolean) Boolean)
(rewrite (Boolean___and__ (TRUE) x) x :ruleset array_api_ruleset)
(rewrite (Boolean___and__ (FALSE) x) (FALSE) :ruleset array_api_ruleset)
(function Boolean_if_int (Boolean Int Int) Int)
(rewrite (Boolean_if_int (TRUE) i j) i :ruleset array_api_ruleset)
(rewrite (Boolean_if_int (FALSE) i j) j :ruleset array_api_ruleset)
(function Boolean___invert__ (Boolean) Boolean)
(rewrite (Boolean___invert__ (TRUE)) (FALSE) :ruleset array_api_ruleset)
(rewrite (Boolean___invert__ (FALSE)) (TRUE) :ruleset array_api_ruleset)
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 1))
(run-schedule (saturate (run array_api_ruleset)))
(Int___ge__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 3))
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_-4303590302573073911 (OptionalBool_none))
(isdtype (NDArray_dtype (asarray (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)) (OptionalDType_none) %__expr_-4303590302573073911 (OptionalDevice_none))) (IsDtypeKind___or__ (IsDtypeKind_string "real floating") (IsDtypeKind___or__ (IsDtypeKind_string "complex floating") (IsDtypeKind_NULL))))
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_8855076930384822898 (OptionalDevice_none))
(Value_to_bool (NDArray_to_value (isfinite (sum (asarray (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)) (OptionalDType_none) %__expr_-4303590302573073911 (OptionalDevice_none)) (OptionalIntOrTuple_none)))))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(run-schedule (saturate (run array_api_ruleset)))
(Int___lt__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)) (Int___init__ 2))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 2))
(run-schedule (saturate (run array_api_ruleset)))
(Int___lt__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 1)) (Int___init__ 1))
(run-schedule (saturate (run array_api_ruleset)))
(Int___ge__ (NDArray_ndim (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898)) (Int___init__ 3))
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_755392963466248965 (Int___init__ 2))
(Int___eq__ (NDArray_ndim (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_755392963466248965)
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898)))
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_-990525301813695487 (OptionalDType_none))
(isdtype (NDArray_dtype (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (IsDtypeKind___or__ (IsDtypeKind_string "real floating") (IsDtypeKind___or__ (IsDtypeKind_string "complex floating") (IsDtypeKind_NULL))))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)))
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_-4671014753414284575 (Int___init__ 0))
(Int___lt__ (TupleInt___getitem__ (NDArray_shape (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-4671014753414284575) (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)))
(run-schedule (saturate (run array_api_ruleset)))
(Int___gt__ (TupleInt___getitem__ (NDArray_shape (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-4671014753414284575) (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (TupleInt___getitem__ (NDArray_shape (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-4671014753414284575) (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_755392963466248965)
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_-3636589015846229112 (Int___init__ 1))
(Int___eq__ (NDArray_ndim (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-3636589015846229112)
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt___getitem__ (NDArray_shape (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-4671014753414284575)
(run-schedule (saturate (run array_api_ruleset)))
(DType___eq__ (NDArray_dtype (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (DType_object))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_755392963466248965)
(run-schedule (saturate (run array_api_ruleset)))
(isdtype (NDArray_dtype (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (IsDtypeKind_string "real floating"))
(run-schedule (saturate (run array_api_ruleset)))
(Int___gt__ (TupleInt___getitem__ (NDArray_shape (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) %__expr_-4671014753414284575) %__expr_755392963466248965)
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_8800461850802719337 (Int___init__ 150))
(Int___eq__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)) (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575))
(run-schedule (saturate (run array_api_ruleset)))
(TupleNDArray_length (unique_counts (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt___getitem__ (NDArray_shape (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-4671014753414284575)
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_-2515197891056208817 (Value_int (Int___init__ 0)))
(Value_to_bool (NDArray_to_value (any (NDArray___lt__ (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-3636589015846229112) (NDArray_dtype (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)))) (NDArray_scalar (Value_float (Float___init__ 150.0)))) (NDArray_scalar %__expr_-2515197891056208817)))))
(run-schedule (saturate (run array_api_ruleset)))
(Value_to_bool (NDArray_to_value (NDArray___gt__ (ndarray-abs (NDArray___sub__ (sum (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-3636589015846229112) (NDArray_dtype (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)))) (NDArray_scalar (Value_float (Float___init__ 150.0)))) (OptionalIntOrTuple_none)) (NDArray_scalar (Value_float (Float___init__ 1.0))))) (NDArray_scalar (Value_float (Float___init__ 0.00001))))))
(run-schedule (saturate (run array_api_ruleset)))
(Int___lt__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 1)) (Int___sub__ (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575) %__expr_-3636589015846229112))
(run-schedule (saturate (run array_api_ruleset)))
(Int___lt__ (Int___sub__ (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575) %__expr_-3636589015846229112) %__expr_755392963466248965)
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(run-schedule (saturate (run array_api_ruleset)))
(TupleNDArray_length (unique_inverse (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt___getitem__ (NDArray_shape (TupleNDArray___getitem__ (unique_inverse (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-4671014753414284575)) %__expr_-4671014753414284575)
(run-schedule (saturate (run array_api_ruleset)))
(NDArray_size (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none))))
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_-3193103899592592052 (Value_int (Int___init__ 1)))
(let %__expr_2090748637113203634 (Value_int (Int___init__ 2)))
(let %__expr_8968271287986727247 (unique_inverse (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)))
(let %__expr_-346696523742155791 (TupleNDArray___getitem__ %__expr_8968271287986727247 %__expr_-3636589015846229112))
(let %__expr_888968520189910301 (NDArray_scalar %__expr_-2515197891056208817))
(let %__expr_8768355756772896527 (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(let %__expr_-294044290527551890 (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none))))
(let %__expr_-8993155933335339035 (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))
(sort MultiAxisIndexKeyItem)
(sort Slice)
(function MultiAxisIndexKeyItem_slice (Slice) MultiAxisIndexKeyItem)
(function Slice___init__ (OptionalInt OptionalInt OptionalInt) Slice)
(let %__expr_1503884865394975690 (MultiAxisIndexKeyItem_slice (Slice___init__ (OptionalInt_none) (OptionalInt_none) (OptionalInt_none))))
(let %__expr_-2454709417071966146 (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)))
(let %__expr_-277838035368029254 (OptionalInt_none))
(let %__expr_-3045893352967658126 (FALSE))
(sort MultiAxisIndexKey)
(function IndexKey_multi_axis (MultiAxisIndexKey) IndexKey)
(sort Vec_MultiAxisIndexKeyItem (Vec MultiAxisIndexKeyItem))
(function MultiAxisIndexKey_from_vec (Vec_MultiAxisIndexKeyItem) MultiAxisIndexKey)
(function MultiAxisIndexKeyItem_int (Int) MultiAxisIndexKeyItem)
(let %__expr_469855974343835084 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-4671014753414284575) %__expr_1503884865394975690))))
(let %__expr_5553578895160412584 (Float___init__ 1.0))
(sort IntOrTuple)
(function OptionalIntOrTuple_some (IntOrTuple) OptionalIntOrTuple)
(function IntOrTuple_int (Int) IntOrTuple)
(let %__expr_-4976863396675597554 (OptionalIntOrTuple_some (IntOrTuple_int %__expr_-4671014753414284575)))
(function NDArray___setitem__ (NDArray IndexKey NDArray) NDArray)
(function zeros (TupleInt OptionalDType OptionalDevice) NDArray)
(function OptionalDType_some (DType) OptionalDType)
(sort Device)
(function OptionalDevice_some (Device) OptionalDevice)
(function NDArray_device (NDArray) Device)
(function mean (NDArray OptionalIntOrTuple Boolean) NDArray)
(function IndexKey_ndarray (NDArray) IndexKey)
(function NDArray___eq__ (NDArray NDArray) NDArray)
(let %__expr_6782829203688770802 (NDArray___setitem__ (NDArray___setitem__ (NDArray___setitem__ (zeros (TupleInt_from_vec (vec-of (TupleInt___getitem__ (NDArray_shape (TupleNDArray___getitem__ (unique_inverse (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-4671014753414284575)) %__expr_-4671014753414284575) (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 1)))) (OptionalDType_some (NDArray_dtype (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)))) (OptionalDevice_some (NDArray_device %__expr_-2454709417071966146))) %__expr_469855974343835084 (mean (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-346696523742155791 %__expr_888968520189910301))) %__expr_-4976863396675597554 %__expr_-3045893352967658126)) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-3636589015846229112) %__expr_1503884865394975690))) (mean (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-346696523742155791 (NDArray_scalar %__expr_-3193103899592592052)))) %__expr_-4976863396675597554 %__expr_-3045893352967658126)) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_755392963466248965) %__expr_1503884865394975690))) (mean (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-346696523742155791 (NDArray_scalar %__expr_2090748637113203634)))) %__expr_-4976863396675597554 %__expr_-3045893352967658126)))
(let %__expr_-8812288226011607914 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-3636589015846229112) %__expr_1503884865394975690))))
(let %__expr_7373748767722314024 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_755392963466248965) %__expr_1503884865394975690))))
(function std (NDArray OptionalIntOrTuple) NDArray)
(function OptionalInt_some (Int) OptionalInt)
(let %__expr_-4845818903945609769 (std (concat (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_-4671014753414284575))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_469855974343835084))) (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_-3636589015846229112))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_-8812288226011607914))) (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_755392963466248965))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_7373748767722314024))))) (OptionalInt_some %__expr_-4671014753414284575)) %__expr_-4976863396675597554))
(let %__expr_-3351178202206693037 (concat (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_-4671014753414284575))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_469855974343835084))) (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_-3636589015846229112))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_-8812288226011607914))) (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_755392963466248965))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_7373748767722314024))))) (OptionalInt_some %__expr_-4671014753414284575)))
(function NDArray___mul__ (NDArray NDArray) NDArray)
(function ndarray-sqrt (NDArray) NDArray)
(TupleNDArray_length (svd (NDArray___mul__ (ndarray-sqrt (asarray (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)) (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575)))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (NDArray___truediv__ %__expr_-3351178202206693037 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) %__expr_-3045893352967658126))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575) %__expr_-3636589015846229112)
(run-schedule (saturate (run array_api_ruleset)))
(let %__expr_6487687809380785968 (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575))
(let %__expr_-3021532387541159817 (Slice___init__ %__expr_-277838035368029254 (OptionalInt_some (Value_to_int (NDArray_to_value (sum (astype (NDArray___gt__ (TupleNDArray___getitem__ (svd (NDArray___mul__ (ndarray-sqrt (asarray (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)) (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575)))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (NDArray___truediv__ %__expr_-3351178202206693037 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) %__expr_-3045893352967658126) %__expr_-3636589015846229112) (NDArray_scalar (Value_float (Float___init__ 0.0001)))) (DType_int32)) (OptionalIntOrTuple_none))))) %__expr_-277838035368029254))
(let %__expr_5701152810033784528 (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)))
(let %__expr_-6187783262847860806 (NDArray_dtype (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(let %__expr_-315001527591743086 (TupleNDArray___getitem__ (svd (NDArray___mul__ (ndarray-sqrt (asarray (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)) (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575)))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (NDArray___truediv__ %__expr_-3351178202206693037 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) %__expr_-3045893352967658126) %__expr_-3636589015846229112))
(let %__expr_-9037266425291862563 (svd (NDArray___mul__ (ndarray-sqrt (asarray (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0)) (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575)))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (NDArray___truediv__ %__expr_-3351178202206693037 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) %__expr_-3045893352967658126))
(function NDArray___matmul__ (NDArray NDArray) NDArray)
(function IndexKey_slice (Slice) IndexKey)
(TupleNDArray_length (svd (NDArray___matmul__ (NDArray_T (NDArray___mul__ (ndarray-sqrt (NDArray___mul__ (NDArray___mul__ (NDArray_scalar (Value_int %__expr_5701152810033784528)) (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-3636589015846229112) (NDArray_dtype (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)))) (NDArray_scalar (Value_float (Float___init__ 150.0))))) (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))) %__expr_-4671014753414284575) %__expr_-3636589015846229112))))))) (NDArray_T (NDArray___sub__ %__expr_6782829203688770802 (NDArray___matmul__ (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) %__expr_-3636589015846229112) (NDArray_dtype (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)))) (NDArray_scalar (Value_float (Float___init__ 150.0)))) %__expr_6782829203688770802))))) (NDArray___truediv__ (NDArray_T (NDArray___truediv__ (NDArray___getitem__ (TupleNDArray___getitem__ %__expr_-9037266425291862563 %__expr_755392963466248965) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_slice %__expr_-3021532387541159817) %__expr_1503884865394975690)))) (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) (NDArray___getitem__ %__expr_-315001527591743086 (IndexKey_slice %__expr_-3021532387541159817)))) %__expr_-3045893352967658126))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (unique_values (concat (TupleNDArray___init__ (unique_values (asarray (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (OptionalDType_none) %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none)))))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (Int___mul__ %__expr_-3636589015846229112 %__expr_6487687809380785968) %__expr_755392963466248965)
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 0))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 1))
(run-schedule (saturate (run array_api_ruleset)))
(Int___ge__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 3))
(run-schedule (saturate (run array_api_ruleset)))
(isdtype (NDArray_dtype (asarray (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)) (OptionalDType_none) %__expr_-4303590302573073911 (OptionalDevice_none))) (IsDtypeKind___or__ (IsDtypeKind_string "real floating") (IsDtypeKind___or__ (IsDtypeKind_string "complex floating") (IsDtypeKind_NULL))))
(run-schedule (saturate (run array_api_ruleset)))
(Value_to_bool (NDArray_to_value (isfinite (sum (asarray (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)) (OptionalDType_none) %__expr_-4303590302573073911 (OptionalDevice_none)) (OptionalIntOrTuple_none)))))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))))
(run-schedule (saturate (run array_api_ruleset)))
(Int___lt__ %__expr_5701152810033784528 %__expr_-3636589015846229112)
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (NDArray_ndim (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 2))
(run-schedule (saturate (run array_api_ruleset)))
(Int___lt__ (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 1)) (Int___init__ 1))
(run-schedule (saturate (run array_api_ruleset)))
(TupleInt_length (NDArray_shape (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4)))))))
(run-schedule (saturate (run array_api_ruleset)))
(Int___eq__ (TupleInt___getitem__ (NDArray_shape (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4)))))) %__expr_-3636589015846229112) (TupleInt___getitem__ (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") %__expr_4101187900440652363) (TupleInt_from_vec (vec-of (Int___init__ 150) (Int___init__ 4))))) (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none))) (Int___init__ 1)))
(run-schedule (saturate (run array_api_ruleset)))
(pop 1)
(ruleset array_api_ruleset)
(sort Int)
(function i-Int__-Int_i (Int Int) Int)
(rewrite (i-Int__-Int_i i _) i :ruleset array_api_ruleset)
(sort TupleInt)
(function TupleInt_single (Int) TupleInt)
(sort UnstableFn_Int_Int (UnstableFn (Int) Int))
(function TupleInt___init__ (Int UnstableFn_Int_Int) TupleInt :unextractable)
(function Int___init__ (i64) Int)
(rewrite (TupleInt_single i) (TupleInt___init__ (Int___init__ 1) (unstable-fn "i-Int__-Int_i" i)) :ruleset array_api_ruleset)
(function i-Int_i (Int) Int)
(rewrite (i-Int_i i) i :ruleset array_api_ruleset)
(function TupleInt_range (Int) TupleInt)
(rewrite (TupleInt_range stop) (TupleInt___init__ stop (unstable-fn "i-Int_i")) :ruleset array_api_ruleset)
(sort Vec_Int (Vec Int))
(function TupleInt_from_vec (Vec_Int) TupleInt)
(function index_vec_int (Vec_Int Int) Int)
(rewrite (TupleInt_from_vec vec) (TupleInt___init__ (Int___init__ (vec-length vec)) (unstable-fn "index_vec_int" vec)) :ruleset array_api_ruleset)
(sort Boolean)
(function Int_if_ (Boolean Int Int) Int)
(function Int___lt__ (Int Int) Boolean)
(function TupleInt_length (TupleInt) Int)
(function TupleInt___getitem__ (TupleInt Int) Int)
(function Int___sub__ (Int Int) Int)
(function other-TupleInt_self-TupleInt_i-Int__Int_if___Int___lt___i__TupleInt_length_self____TupleInt___getitem___self_i___TupleInt___getitem___other__Int___sub___i__TupleInt_length_self____ (TupleInt TupleInt Int) Int)
(rewrite (other-TupleInt_self-TupleInt_i-Int__Int_if___Int___lt___i__TupleInt_length_self____TupleInt___getitem___self_i___TupleInt___getitem___other__Int___sub___i__TupleInt_length_self____ other self i) (Int_if_ (Int___lt__ i (TupleInt_length self)) (TupleInt___getitem__ self i) (TupleInt___getitem__ other (Int___sub__ i (TupleInt_length self)))) :ruleset array_api_ruleset)
(function TupleInt___add__ (TupleInt TupleInt) TupleInt)
(function Int___add__ (Int Int) Int)
(rewrite (TupleInt___add__ self other) (TupleInt___init__ (Int___add__ (TupleInt_length self) (TupleInt_length other)) (unstable-fn "other-TupleInt_self-TupleInt_i-Int__Int_if___Int___lt___i__TupleInt_length_self____TupleInt___getitem___self_i___TupleInt___getitem___other__Int___sub___i__TupleInt_length_self____" other self)) :ruleset array_api_ruleset)
(function Boolean___or__ (Boolean Boolean) Boolean)
(function Int___eq__ (Int Int) Boolean)
(function i-Int_acc-Boolean_j-Int__Boolean___or___acc__Int___eq___i_j__ (Int Boolean Int) Boolean)
(rewrite (i-Int_acc-Boolean_j-Int__Boolean___or___acc__Int___eq___i_j__ i acc j) (Boolean___or__ acc (Int___eq__ i j)) :ruleset array_api_ruleset)
(function TupleInt_contains (TupleInt Int) Boolean)
(sort UnstableFn_Boolean_Boolean_Int (UnstableFn (Boolean Int) Boolean))
(function TupleInt_fold_boolean (TupleInt Boolean UnstableFn_Boolean_Boolean_Int) Boolean)
(function FALSE () Boolean)
(rewrite (TupleInt_contains self i) (TupleInt_fold_boolean self (FALSE) (unstable-fn "i-Int_acc-Boolean_j-Int__Boolean___or___acc__Int___eq___i_j__" i)) :ruleset array_api_ruleset)
(function f-UnstableFn_Int_Int_self-TupleInt_i-Int__unstable-app_f__TupleInt___getitem___self_i__ (UnstableFn_Int_Int TupleInt Int) Int)
(rewrite (f-UnstableFn_Int_Int_self-TupleInt_i-Int__unstable-app_f__TupleInt___getitem___self_i__ f self i) (unstable-app f (TupleInt___getitem__ self i)) :ruleset array_api_ruleset)
(function TupleInt_map (TupleInt UnstableFn_Int_Int) TupleInt :cost 100)
(rewrite (TupleInt_map self f) (TupleInt___init__ (TupleInt_length self) (unstable-fn "f-UnstableFn_Int_Int_self-TupleInt_i-Int__unstable-app_f__TupleInt___getitem___self_i__" f self)) :ruleset array_api_ruleset)
(function i-TupleInt__-Int_i (TupleInt Int) TupleInt)
(rewrite (i-TupleInt__-Int_i i _) i :ruleset array_api_ruleset)
(sort TupleTupleInt)
(function TupleTupleInt_single (TupleInt) TupleTupleInt)
(sort UnstableFn_TupleInt_Int (UnstableFn (Int) TupleInt))
(function TupleTupleInt___init__ (Int UnstableFn_TupleInt_Int) TupleTupleInt)
(rewrite (TupleTupleInt_single i) (TupleTupleInt___init__ (Int___init__ 1) (unstable-fn "i-TupleInt__-Int_i" i)) :ruleset array_api_ruleset)
(function TupleTupleInt_from_vec (Vec_Int) TupleInt)
(rewrite (TupleTupleInt_from_vec vec) (TupleInt___init__ (Int___init__ (vec-length vec)) (unstable-fn "index_vec_int" vec)) :ruleset array_api_ruleset)
(function TupleInt_if_ (Boolean TupleInt TupleInt) TupleInt)
(function TupleTupleInt_length (TupleTupleInt) Int)
(function TupleTupleInt___getitem__ (TupleTupleInt Int) TupleInt)
(function other-TupleTupleInt_self-TupleTupleInt_i-Int__TupleInt_if___Int___lt___i__TupleTupleInt_length_self____TupleTupleInt___getitem___self_i___TupleTupleInt___getitem___other__Int___sub___i__TupleTupleInt_length_self____ (TupleTupleInt TupleTupleInt Int) TupleInt)
(rewrite (other-TupleTupleInt_self-TupleTupleInt_i-Int__TupleInt_if___Int___lt___i__TupleTupleInt_length_self____TupleTupleInt___getitem___self_i___TupleTupleInt___getitem___other__Int___sub___i__TupleTupleInt_length_self____ other self i) (TupleInt_if_ (Int___lt__ i (TupleTupleInt_length self)) (TupleTupleInt___getitem__ self i) (TupleTupleInt___getitem__ other (Int___sub__ i (TupleTupleInt_length self)))) :ruleset array_api_ruleset)
(function TupleTupleInt___add__ (TupleTupleInt TupleTupleInt) TupleTupleInt)
(rewrite (TupleTupleInt___add__ self other) (TupleTupleInt___init__ (Int___add__ (TupleTupleInt_length self) (TupleTupleInt_length other)) (unstable-fn "other-TupleTupleInt_self-TupleTupleInt_i-Int__TupleInt_if___Int___lt___i__TupleTupleInt_length_self____TupleTupleInt___getitem___self_i___TupleTupleInt___getitem___other__Int___sub___i__TupleTupleInt_length_self____" other self)) :ruleset array_api_ruleset)
(sort NDArray)
(function NDArray_size (NDArray) Int)
(sort UnstableFn_Int_Int_Int (UnstableFn (Int Int) Int))
(function TupleInt_fold (TupleInt Int UnstableFn_Int_Int_Int) Int)
(function NDArray_shape (NDArray) TupleInt)
(function Int___mul__ (Int Int) Int)
(rewrite (NDArray_size x) (TupleInt_fold (NDArray_shape x) (Int___init__ 1) (unstable-fn "Int___mul__")) :ruleset array_api_ruleset)
(function unique_values (NDArray) NDArray)
(sort TupleValue)
(function NDArray_vector (TupleValue) NDArray)
(sort Value)
(function possible_values (Value) TupleValue)
(function NDArray_index (NDArray TupleInt) Value)
(function ALL_INDICES () TupleInt)
(rewrite (unique_values a) (NDArray_vector (possible_values (NDArray_index a (ALL_INDICES)))) :ruleset array_api_ruleset)
(function Value_isfinite (Value) Boolean)
(function Value_int (Int) Value)
(function TRUE () Boolean)
(rewrite (Value_isfinite (Value_int i)) (TRUE) :ruleset array_api_ruleset)
(function Value_bool (Boolean) Value)
(rewrite (Value_isfinite (Value_bool b)) (TRUE) :ruleset array_api_ruleset)
(sort Float)
(function Value_float (Float) Value)
(function Float___init__ (f64) Float :cost 3)
(rewrite (Value_isfinite (Value_float (Float___init__ f))) (TRUE) :when ((!= f NaN)) :ruleset array_api_ruleset)
(function isfinite (NDArray) NDArray)
(sort OptionalIntOrTuple)
(function sum (NDArray OptionalIntOrTuple) NDArray)
(function OptionalIntOrTuple_none () OptionalIntOrTuple)
(function NDArray_scalar (Value) NDArray)
(rewrite (isfinite (sum arr (OptionalIntOrTuple_none))) (NDArray_scalar (Value_bool (Value_isfinite (NDArray_index arr (ALL_INDICES))))) :ruleset array_api_ruleset)
(function assume_value_one_of (NDArray TupleValue) NDArray)
(rewrite (NDArray_shape (assume_value_one_of x vs)) (NDArray_shape x) :ruleset array_api_ruleset)
(sort DType)
(function NDArray_dtype (NDArray) DType)
(rewrite (NDArray_dtype (assume_value_one_of x vs)) (NDArray_dtype x) :ruleset array_api_ruleset)
(rule ((= v (NDArray_index (assume_value_one_of x vs) idx)))
      ((union v (NDArray_index x idx))
       (union (possible_values v) vs))
        :ruleset array_api_ruleset )
(function assume_isfinite (NDArray) NDArray)
(rewrite (NDArray_shape (assume_isfinite x)) (NDArray_shape x) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (assume_isfinite x)) (NDArray_dtype x) :ruleset array_api_ruleset)
(rewrite (NDArray_index (assume_isfinite x) ti) (NDArray_index x ti) :ruleset array_api_ruleset)
(rewrite (Value_isfinite (NDArray_index (assume_isfinite x) ti)) (TRUE) :ruleset array_api_ruleset)
(function assume_shape (NDArray TupleInt) NDArray)
(rewrite (NDArray_shape (assume_shape x shape)) shape :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (assume_shape x shape)) (NDArray_dtype x) :ruleset array_api_ruleset)
(rewrite (NDArray_index (assume_shape x shape) idx) (NDArray_index x idx) :ruleset array_api_ruleset)
(function assume_dtype (NDArray DType) NDArray)
(rewrite (NDArray_dtype (assume_dtype x dtype)) dtype :ruleset array_api_ruleset)
(rewrite (NDArray_shape (assume_dtype x dtype)) (NDArray_shape x) :ruleset array_api_ruleset)
(rewrite (NDArray_index (assume_dtype x dtype) idx) (NDArray_index x idx) :ruleset array_api_ruleset)
(sort IndexKey)
(function NDArray___getitem__ (NDArray IndexKey) NDArray)
(function IndexKey_int (Int) IndexKey)
(rewrite (NDArray___getitem__ x (IndexKey_int i)) (NDArray_scalar (NDArray_index x (TupleInt_single i))) :ruleset array_api_ruleset)
(sort OptionalBool)
(function reshape (NDArray TupleInt OptionalBool) NDArray)
(rule ((= __a (reshape x shape copy)))
      ((NDArray_shape x)
       (TupleInt_length (NDArray_shape x)))
        :ruleset array_api_ruleset )
(rule ((reshape x shape copy))
      ((TupleInt_length shape)
       (TupleInt___getitem__ shape (Int___init__ 0)))
        :ruleset array_api_ruleset )
(rewrite (reshape x shape copy) x :when ((= (TupleInt_length (NDArray_shape x)) (Int___init__ 1)) (= (TupleInt_length shape) (Int___init__ 1)) (= (TupleInt___getitem__ shape (Int___init__ 0)) (Int___init__ -1))) :ruleset array_api_ruleset)
(function TupleValue_length (TupleValue) Int)
(rewrite (NDArray_shape (NDArray_vector vs)) (TupleInt_single (TupleValue_length vs)) :ruleset array_api_ruleset)
(function Value_dtype (Value) DType)
(function TupleValue___getitem__ (TupleValue Int) Value)
(rewrite (NDArray_dtype (NDArray_vector vs)) (Value_dtype (TupleValue___getitem__ vs (Int___init__ 0))) :ruleset array_api_ruleset)
(rewrite (NDArray_index (NDArray_vector vs) ti) (TupleValue___getitem__ vs (TupleInt___getitem__ ti (Int___init__ 0))) :ruleset array_api_ruleset)
(function TupleInt_EMPTY () TupleInt)
(rewrite (NDArray_shape (NDArray_scalar v)) (TupleInt_EMPTY) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (NDArray_scalar v)) (Value_dtype v) :ruleset array_api_ruleset)
(rewrite (NDArray_index (NDArray_scalar v) (TupleInt_EMPTY)) v :ruleset array_api_ruleset)
(function any (NDArray) NDArray)
(function TupleValue_includes (TupleValue Value) Boolean)
(function Value_to_truthy_value (Value) Value)
(rewrite (any x) (NDArray_scalar (Value_bool (TupleValue_includes (possible_values (Value_to_truthy_value (NDArray_index x (ALL_INDICES)))) (Value_bool (TRUE))))) :ruleset array_api_ruleset)
(function NDArray___lt__ (NDArray NDArray) NDArray)
(function Value___lt__ (Value Value) Value)
(function broadcast_index (TupleInt TupleInt TupleInt) TupleInt)
(function broadcast_shapes (TupleInt TupleInt) TupleInt)
(rewrite (NDArray_index (NDArray___lt__ x y) idx) (Value___lt__ (NDArray_index x (broadcast_index (NDArray_shape x) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx)) (NDArray_index y (broadcast_index (NDArray_shape y) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx))) :ruleset array_api_ruleset)
(function NDArray___truediv__ (NDArray NDArray) NDArray)
(function Value___truediv__ (Value Value) Value)
(rewrite (NDArray_index (NDArray___truediv__ x y) idx) (Value___truediv__ (NDArray_index x (broadcast_index (NDArray_shape x) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx)) (NDArray_index y (broadcast_index (NDArray_shape y) (broadcast_shapes (NDArray_shape x) (NDArray_shape y)) idx))) :ruleset array_api_ruleset)
(rewrite (NDArray_index (NDArray_scalar v) idx) v :ruleset array_api_ruleset)
(function astype (NDArray DType) NDArray)
(function Value_astype (Value DType) Value)
(rewrite (NDArray_index (astype x dtype) idx) (Value_astype (NDArray_index x idx) dtype) :ruleset array_api_ruleset)
(relation greater_zero (Value))
(sort TupleNDArray)
(function TupleNDArray___getitem__ (TupleNDArray Int) NDArray)
(function unique_counts (NDArray) TupleNDArray)
(rule ((= v (NDArray_index (TupleNDArray___getitem__ (unique_counts x) (Int___init__ 1)) idx)))
      ((greater_zero v))
        :ruleset array_api_ruleset )
(rule ((greater_zero v)
       (= v1 (Value_astype v dtype)))
      ((greater_zero v1))
        :ruleset array_api_ruleset )
(rule ((= v (Value_float (Float___init__ f)))
       (> f 0.0))
      ((greater_zero v))
        :ruleset array_api_ruleset )
(rule ((= v (Value_int (Int___init__ i)))
       (> i 0))
      ((greater_zero v))
        :ruleset array_api_ruleset )
(rule ((greater_zero v)
       (greater_zero v1)
       (= v2 (Value___truediv__ v v1)))
      ((greater_zero v2))
        :ruleset array_api_ruleset )
(rule ((greater_zero v)
       (= v1 (Value___lt__ v (Value_int (Int___init__ 0)))))
      ((union v1 (Value_bool (FALSE))))
        :ruleset array_api_ruleset )
(function TupleValue___init__ (Value) TupleValue)
(rewrite (possible_values (Value_bool b)) (TupleValue___init__ (Value_bool b)) :ruleset array_api_ruleset)
(rule ((= v1 (Value_astype v dtype))
       (greater_zero v))
      ((greater_zero v1))
        :ruleset array_api_ruleset )
(function TupleNDArray_length (TupleNDArray) Int)
(function svd (NDArray Boolean) TupleNDArray)
(rewrite (TupleNDArray_length (svd x full_matrices)) (Int___init__ 3) :ruleset array_api_ruleset)
(function unique_inverse (NDArray) TupleNDArray)
(rewrite (TupleNDArray_length (unique_inverse x)) (Int___init__ 2) :ruleset array_api_ruleset)
(rewrite (TupleNDArray___getitem__ (unique_inverse x) (Int___init__ 0)) (unique_values x) :ruleset array_api_ruleset)
(function ndarray-abs (NDArray) NDArray)
(function Float_abs (Float) Float)
(rewrite (ndarray-abs (NDArray_scalar (Value_float f))) (NDArray_scalar (Value_float (Float_abs f))) :ruleset array_api_ruleset)
(rewrite (TupleNDArray_length (unique_counts x)) (Int___init__ 2) :ruleset array_api_ruleset)
(rewrite (sum (TupleNDArray___getitem__ (unique_counts x) (Int___init__ 1)) (OptionalIntOrTuple_none)) (NDArray_scalar (Value_int (NDArray_size x))) :ruleset array_api_ruleset)
(rewrite (sum (astype (TupleNDArray___getitem__ (unique_counts x) (Int___init__ 1)) dtype) (OptionalIntOrTuple_none)) (astype (NDArray_scalar (Value_int (NDArray_size x))) dtype) :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (astype x dtype)) dtype :ruleset array_api_ruleset)
(function DType_float64 () DType)
(rewrite (astype (NDArray_scalar (Value_int (Int___init__ i))) (DType_float64)) (NDArray_scalar (Value_float (Float___init__ (to-f64 i)))) :ruleset array_api_ruleset)
(sort OptionalInt)
(function concat (TupleNDArray OptionalInt) NDArray)
(function TupleNDArray___init__ (NDArray) TupleNDArray)
(function OptionalInt_none () OptionalInt)
(rewrite (concat (TupleNDArray___init__ x) (OptionalInt_none)) x :ruleset array_api_ruleset)
(rewrite (unique_values (unique_values x)) (unique_values x) :ruleset array_api_ruleset)
(rewrite (sum (NDArray___truediv__ x (NDArray_scalar v)) (OptionalIntOrTuple_none)) (NDArray___truediv__ (sum x (OptionalIntOrTuple_none)) (NDArray_scalar v)) :ruleset array_api_ruleset)
(function NDArray_ndim (NDArray) Int)
(sort OptionalDType)
(sort OptionalDevice)
(function asarray (NDArray OptionalDType OptionalBool OptionalDevice) NDArray)
(function OptionalDevice_none () OptionalDevice)
(rewrite (NDArray_ndim (asarray a d ob (OptionalDevice_none))) (NDArray_ndim a) :ruleset array_api_ruleset)
(function OptionalDType_none () OptionalDType)
(function OptionalBool_none () OptionalBool)
(rewrite (asarray a (OptionalDType_none) (OptionalBool_none) (OptionalDevice_none)) a :ruleset array_api_ruleset)
(function TupleNDArray___add__ (TupleNDArray TupleNDArray) TupleNDArray)
(function TupleNDArray_EMPTY () TupleNDArray)
(rewrite (TupleNDArray___add__ ti (TupleNDArray_EMPTY)) ti :ruleset array_api_ruleset)
(rewrite (TupleNDArray_length (TupleNDArray___init__ n)) (Int___init__ 1) :ruleset array_api_ruleset)
(rewrite (TupleNDArray_length (TupleNDArray___add__ ti ti2)) (Int___add__ (TupleNDArray_length ti) (TupleNDArray_length ti2)) :ruleset array_api_ruleset)
(sort UnstableFn_Value_TupleInt (UnstableFn (TupleInt) Value))
(function NDArray___init__ (TupleInt DType UnstableFn_Value_TupleInt) NDArray)
(rewrite (NDArray_shape (NDArray___init__ shape dtype idx_fn)) shape :ruleset array_api_ruleset)
(rewrite (NDArray_dtype (NDArray___init__ shape dtype idx_fn)) dtype :ruleset array_api_ruleset)
(rewrite (NDArray_ndim x) (TupleInt_length (NDArray_shape x)) :ruleset array_api_ruleset)
(function NDArray_to_value (NDArray) Value)
(rewrite (NDArray_to_value x) (NDArray_index x (TupleInt_EMPTY)) :ruleset array_api_ruleset)
(rewrite (NDArray___truediv__ (NDArray_scalar (Value_float f)) (NDArray_scalar (Value_float f))) (NDArray_scalar (Value_float (Float___init__ 1.0))) :ruleset array_api_ruleset)
(function NDArray___sub__ (NDArray NDArray) NDArray)
(rewrite (NDArray___sub__ (NDArray_scalar (Value_float f)) (NDArray_scalar (Value_float f))) (NDArray_scalar (Value_float (Float___init__ 0.0))) :ruleset array_api_ruleset)
(function NDArray___gt__ (NDArray NDArray) NDArray)
(rewrite (NDArray___gt__ (NDArray_scalar (Value_float (Float___init__ fi1))) (NDArray_scalar (Value_float (Float___init__ fi2)))) (NDArray_scalar (Value_bool (TRUE))) :when ((> fi1 fi2)) :ruleset array_api_ruleset)
(rewrite (NDArray___gt__ (NDArray_scalar (Value_float (Float___init__ fi1))) (NDArray_scalar (Value_float (Float___init__ fi2)))) (NDArray_scalar (Value_bool (FALSE))) :when ((<= fi1 fi2)) :ruleset array_api_ruleset)
(function NDArray_T (NDArray) NDArray)
(rewrite (NDArray_T (NDArray_T x)) x :ruleset array_api_ruleset)
(function TupleValue___add__ (TupleValue TupleValue) TupleValue)
(function TupleValue_EMPTY () TupleValue)
(rewrite (TupleValue___add__ ti (TupleValue_EMPTY)) ti :ruleset array_api_ruleset)
(rewrite (TupleValue_length (TupleValue_EMPTY)) (Int___init__ 0) :ruleset array_api_ruleset)
(rewrite (TupleValue_length (TupleValue___init__ v)) (Int___init__ 1) :ruleset array_api_ruleset)
(rewrite (TupleValue_length (TupleValue___add__ ti ti2)) (Int___add__ (TupleValue_length ti) (TupleValue_length ti2)) :ruleset array_api_ruleset)
(rewrite (TupleValue___getitem__ (TupleValue___init__ v) (Int___init__ 0)) v :ruleset array_api_ruleset)
(rewrite (TupleValue___getitem__ (TupleValue___add__ (TupleValue___init__ v) ti) (Int___init__ 0)) v :ruleset array_api_ruleset)
(rule ((= v (TupleValue___getitem__ (TupleValue___add__ (TupleValue___init__ v2) ti) (Int___init__ k)))
       (> k 0))
      ((union v (TupleValue___getitem__ ti (Int___init__ (- k 1)))))
        :ruleset array_api_ruleset )
(rewrite (TupleValue_includes (TupleValue_EMPTY) v) (FALSE) :ruleset array_api_ruleset)
(rewrite (TupleValue_includes (TupleValue___init__ v) v) (TRUE) :ruleset array_api_ruleset)
(rewrite (TupleValue_includes (TupleValue___init__ v) v2) (FALSE) :when ((!= v v2)) :ruleset array_api_ruleset)
(rewrite (TupleValue_includes (TupleValue___add__ ti ti2) v) (Boolean___or__ (TupleValue_includes ti v) (TupleValue_includes ti2 v)) :ruleset array_api_ruleset)
(function DType_int64 () DType)
(rewrite (Value_dtype (Value_int i)) (DType_int64) :ruleset array_api_ruleset)
(rewrite (Value_dtype (Value_float f)) (DType_float64) :ruleset array_api_ruleset)
(function DType_bool () DType)
(rewrite (Value_dtype (Value_bool b)) (DType_bool) :ruleset array_api_ruleset)
(function Value_to_bool (Value) Boolean)
(rewrite (Value_to_bool (Value_bool b)) b :ruleset array_api_ruleset)
(function Value_to_int (Value) Int)
(rewrite (Value_to_int (Value_int i)) i :ruleset array_api_ruleset)
(rewrite (Value_to_truthy_value (Value_bool b)) (Value_bool b) :ruleset array_api_ruleset)
(sort IsDtypeKind)
(function isdtype (DType IsDtypeKind) Boolean)
(function DType_float32 () DType)
(function IsDtypeKind_string (String) IsDtypeKind)
(rewrite (isdtype (DType_float32) (IsDtypeKind_string "integral")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_float64) (IsDtypeKind_string "integral")) (FALSE) :ruleset array_api_ruleset)
(function DType_object () DType)
(rewrite (isdtype (DType_object) (IsDtypeKind_string "integral")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int64) (IsDtypeKind_string "integral")) (TRUE) :ruleset array_api_ruleset)
(function DType_int32 () DType)
(rewrite (isdtype (DType_int32) (IsDtypeKind_string "integral")) (TRUE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_float32) (IsDtypeKind_string "real floating")) (TRUE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_float64) (IsDtypeKind_string "real floating")) (TRUE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_object) (IsDtypeKind_string "real floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int64) (IsDtypeKind_string "real floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int32) (IsDtypeKind_string "real floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_float32) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_float64) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_object) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int64) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(rewrite (isdtype (DType_int32) (IsDtypeKind_string "complex floating")) (FALSE) :ruleset array_api_ruleset)
(function IsDtypeKind_NULL () IsDtypeKind)
(rewrite (isdtype d (IsDtypeKind_NULL)) (FALSE) :ruleset array_api_ruleset)
(function IsDtypeKind_dtype (DType) IsDtypeKind)
(rewrite (isdtype d (IsDtypeKind_dtype d)) (TRUE) :ruleset array_api_ruleset)
(function IsDtypeKind___or__ (IsDtypeKind IsDtypeKind) IsDtypeKind :cost 10)
(rewrite (isdtype d (IsDtypeKind___or__ k1 k2)) (Boolean___or__ (isdtype d k1) (isdtype d k2)) :ruleset array_api_ruleset)
(rewrite (IsDtypeKind___or__ k1 (IsDtypeKind_NULL)) k1 :ruleset array_api_ruleset)
(function DType___eq__ (DType DType) Boolean)
(rewrite (DType___eq__ (DType_float64) (DType_float64)) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float64) (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float64) (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float64) (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float64) (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_float64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_float32)) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_float32) (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_float64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_int32)) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int32) (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_float64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_int64)) (TRUE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_int64) (DType_object)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_float64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_float32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_int32)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_int64)) (FALSE) :ruleset array_api_ruleset)
(rewrite (DType___eq__ (DType_object) (DType_object)) (TRUE) :ruleset array_api_ruleset)
(function idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___ (UnstableFn_Int_Int Int) Int)
(rewrite (idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___ idx_fn i) (unstable-app idx_fn (Int___add__ i (Int___init__ 1))) :ruleset array_api_ruleset)
(rewrite (TupleInt_length (TupleInt___init__ i idx_fn)) i :ruleset array_api_ruleset)
(rewrite (TupleInt___getitem__ (TupleInt___init__ i idx_fn) i2) (unstable-app idx_fn i2) :ruleset array_api_ruleset)
(rewrite (index_vec_int vs (Int___init__ k)) (vec-get vs k) :when ((> (vec-length vs) k)) :ruleset array_api_ruleset)
(rewrite (TupleInt_fold (TupleInt___init__ (Int___init__ 0) idx_fn) i f) i :ruleset array_api_ruleset)
(rewrite (TupleInt_fold (TupleInt___init__ (Int___init__ k) idx_fn) i f) (unstable-app f (TupleInt_fold (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) i f) (unstable-app idx_fn (Int___init__ 0))) :when ((!= k 0)) :ruleset array_api_ruleset)
(rewrite (TupleInt_fold_boolean (TupleInt___init__ (Int___init__ 0) idx_fn) b bool_f) b :ruleset array_api_ruleset)
(rewrite (TupleInt_fold_boolean (TupleInt___init__ (Int___init__ k) idx_fn) b bool_f) (unstable-app bool_f (TupleInt_fold_boolean (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) b bool_f) (unstable-app idx_fn (Int___init__ 0))) :when ((!= k 0)) :ruleset array_api_ruleset)
(sort UnstableFn_Boolean_Int (UnstableFn (Int) Boolean))
(function TupleInt_filter (TupleInt UnstableFn_Boolean_Int) TupleInt :cost 100)
(rewrite (TupleInt_filter (TupleInt___init__ (Int___init__ 0) idx_fn) filter_f) (TupleInt___init__ (Int___init__ 0) idx_fn) :ruleset array_api_ruleset)
(rewrite (TupleInt_filter (TupleInt___init__ (Int___init__ k) idx_fn) filter_f) (TupleInt_if_ (unstable-app filter_f (unstable-app idx_fn (Int___init__ k))) (TupleInt___add__ (TupleInt_single (unstable-app idx_fn (Int___init__ k))) (TupleInt_filter (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) filter_f)) (TupleInt_filter (TupleInt___init__ (Int___init__ (- k 1)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i__Int___init___1___" idx_fn)) filter_f)) :when ((!= k 0)) :ruleset array_api_ruleset)
(function bottom_indexing (Int) Int)
(rewrite (TupleInt_EMPTY) (TupleInt___init__ (Int___init__ 0) (unstable-fn "bottom_indexing")) :ruleset array_api_ruleset)
(rewrite (TupleInt_if_ (TRUE) ti ti2) ti :ruleset array_api_ruleset)
(rewrite (TupleInt_if_ (FALSE) ti ti2) ti2 :ruleset array_api_ruleset)
(rewrite (Float_abs (Float___init__ f)) (Float___init__ f) :when ((>= f 0.0)) :ruleset array_api_ruleset)
(rewrite (Float_abs (Float___init__ f)) (Float___init__ (neg f)) :when ((< f 0.0)) :ruleset array_api_ruleset)
(function Float_rational (Rational) Float :cost 2)
(rewrite (Float___init__ f) (Float_rational (rational (to-i64 f) 1)) :when ((= (to-f64 (to-i64 f)) f)) :ruleset array_api_ruleset)
(function Float_from_int (Int) Float)
(rewrite (Float_from_int (Int___init__ i)) (Float_rational (rational i 1)) :ruleset array_api_ruleset)
(function Float___add__ (Float Float) Float)
(rewrite (Float___add__ (Float___init__ f) (Float___init__ f2)) (Float___init__ (+ f f2)) :ruleset array_api_ruleset)
(function Float___sub__ (Float Float) Float)
(rewrite (Float___sub__ (Float___init__ f) (Float___init__ f2)) (Float___init__ (- f f2)) :ruleset array_api_ruleset)
(function Float___mul__ (Float Float) Float)
(rewrite (Float___mul__ (Float___init__ f) (Float___init__ f2)) (Float___init__ (* f f2)) :ruleset array_api_ruleset)
(function Float___truediv__ (Float Float) Float)
(rewrite (Float___truediv__ (Float_rational r) (Float_rational r1)) (Float_rational (/ r r1)) :ruleset array_api_ruleset)
(rewrite (Float___add__ (Float_rational r) (Float_rational r1)) (Float_rational (+ r r1)) :ruleset array_api_ruleset)
(rewrite (Float___sub__ (Float_rational r) (Float_rational r1)) (Float_rational (- r r1)) :ruleset array_api_ruleset)
(rewrite (Float___mul__ (Float_rational r) (Float_rational r1)) (Float_rational (* r r1)) :ruleset array_api_ruleset)
(rewrite (Int___eq__ (Int___init__ i) (Int___init__ i)) (TRUE) :ruleset array_api_ruleset)
(rule ((= r (Int___eq__ (Int___init__ i) (Int___init__ j)))
       (!= i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(function Int___ge__ (Int Int) Boolean)
(rewrite (Int___ge__ (Int___init__ i) (Int___init__ i)) (TRUE) :ruleset array_api_ruleset)
(rule ((= r (Int___ge__ (Int___init__ i) (Int___init__ j)))
       (> i j))
      ((union r (TRUE)))
        :ruleset array_api_ruleset )
(rule ((= r (Int___ge__ (Int___init__ i) (Int___init__ j)))
       (< i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(rewrite (Int___lt__ (Int___init__ i) (Int___init__ i)) (FALSE) :ruleset array_api_ruleset)
(rule ((= r (Int___lt__ (Int___init__ i) (Int___init__ j)))
       (< i j))
      ((union r (TRUE)))
        :ruleset array_api_ruleset )
(rule ((= r (Int___lt__ (Int___init__ i) (Int___init__ j)))
       (> i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(function Int___gt__ (Int Int) Boolean)
(rewrite (Int___gt__ (Int___init__ i) (Int___init__ i)) (FALSE) :ruleset array_api_ruleset)
(rule ((= r (Int___gt__ (Int___init__ i) (Int___init__ j)))
       (> i j))
      ((union r (TRUE)))
        :ruleset array_api_ruleset )
(rule ((= r (Int___gt__ (Int___init__ i) (Int___init__ j)))
       (< i j))
      ((union r (FALSE)))
        :ruleset array_api_ruleset )
(function Int_i64 (Int) i64)
(rule ((= o (Int___init__ j)))
      ((set (Int_i64 o) j))
        :ruleset array_api_ruleset )
(rewrite (Int___add__ (Int___init__ i) (Int___init__ j)) (Int___init__ (+ i j)) :ruleset array_api_ruleset)
(rewrite (Int___sub__ (Int___init__ i) (Int___init__ j)) (Int___init__ (- i j)) :ruleset array_api_ruleset)
(rewrite (Int___mul__ (Int___init__ i) (Int___init__ j)) (Int___init__ (* i j)) :ruleset array_api_ruleset)
(function Int___truediv__ (Int Int) Int)
(rewrite (Int___truediv__ (Int___init__ i) (Int___init__ j)) (Int___init__ (/ i j)) :ruleset array_api_ruleset)
(function Int___mod__ (Int Int) Int)
(rewrite (Int___mod__ (Int___init__ i) (Int___init__ j)) (Int___init__ (% i j)) :ruleset array_api_ruleset)
(function Int___and__ (Int Int) Int)
(rewrite (Int___and__ (Int___init__ i) (Int___init__ j)) (Int___init__ (& i j)) :ruleset array_api_ruleset)
(function Int___or__ (Int Int) Int)
(rewrite (Int___or__ (Int___init__ i) (Int___init__ j)) (Int___init__ (| i j)) :ruleset array_api_ruleset)
(function Int___xor__ (Int Int) Int)
(rewrite (Int___xor__ (Int___init__ i) (Int___init__ j)) (Int___init__ (^ i j)) :ruleset array_api_ruleset)
(function Int___lshift__ (Int Int) Int)
(rewrite (Int___lshift__ (Int___init__ i) (Int___init__ j)) (Int___init__ (<< i j)) :ruleset array_api_ruleset)
(function Int___rshift__ (Int Int) Int)
(rewrite (Int___rshift__ (Int___init__ i) (Int___init__ j)) (Int___init__ (>> i j)) :ruleset array_api_ruleset)
(function Int___invert__ (Int) Int)
(rewrite (Int___invert__ (Int___init__ i)) (Int___init__ (not-i64 i)) :ruleset array_api_ruleset)
(rewrite (Int_if_ (TRUE) o b) o :ruleset array_api_ruleset)
(rewrite (Int_if_ (FALSE) o b) b :ruleset array_api_ruleset)
(function Boolean_bool (Boolean) bool)
(rule ((= x (TRUE)))
      ((set (Boolean_bool x) true))
        :ruleset array_api_ruleset )
(rule ((= x (FALSE)))
      ((set (Boolean_bool x) false))
        :ruleset array_api_ruleset )
(rewrite (Boolean___or__ (TRUE) x) (TRUE) :ruleset array_api_ruleset)
(rewrite (Boolean___or__ (FALSE) x) x :ruleset array_api_ruleset)
(function Boolean___and__ (Boolean Boolean) Boolean)
(rewrite (Boolean___and__ (TRUE) x) x :ruleset array_api_ruleset)
(rewrite (Boolean___and__ (FALSE) x) (FALSE) :ruleset array_api_ruleset)
(function Boolean_if_int (Boolean Int Int) Int)
(rewrite (Boolean_if_int (TRUE) i j) i :ruleset array_api_ruleset)
(rewrite (Boolean_if_int (FALSE) i j) j :ruleset array_api_ruleset)
(function Boolean___invert__ (Boolean) Boolean)
(rewrite (Boolean___invert__ (TRUE)) (FALSE) :ruleset array_api_ruleset)
(rewrite (Boolean___invert__ (FALSE)) (TRUE) :ruleset array_api_ruleset)
(ruleset ruleset_5064589968)
(function NDArray___eq__ (NDArray NDArray) NDArray)
(rewrite (NDArray___eq__ (TupleNDArray___getitem__ (unique_inverse x) (Int___init__ 1)) (NDArray_scalar (Value_int i))) (NDArray___eq__ x (NDArray_scalar (NDArray_index (unique_values x) (TupleInt_from_vec (vec-of i))))) :subsume :ruleset ruleset_5064589968)
(function count_values (NDArray NDArray) TupleValue :unextractable)
(rewrite (TupleNDArray___getitem__ (unique_counts x) (Int___init__ 1)) (NDArray_vector (count_values x (unique_values x))) :subsume :ruleset ruleset_5064589968)
(rewrite (count_values x (NDArray_vector (TupleValue___add__ (TupleValue___init__ v) tv))) (TupleValue___add__ (TupleValue___init__ (NDArray_to_value (sum (NDArray___eq__ x (NDArray_scalar v)) (OptionalIntOrTuple_none)))) (count_values x (NDArray_vector tv))) :subsume :ruleset ruleset_5064589968)
(rewrite (count_values x (NDArray_vector (TupleValue___init__ v))) (TupleValue___init__ (NDArray_to_value (sum (NDArray___eq__ x (NDArray_scalar v)) (OptionalIntOrTuple_none)))) :subsume :ruleset ruleset_5064589968)
(function std (NDArray OptionalIntOrTuple) NDArray)
(sort IntOrTuple)
(function OptionalIntOrTuple_some (IntOrTuple) OptionalIntOrTuple)
(function IntOrTuple_int (Int) IntOrTuple)
(function ndarray-sqrt (NDArray) NDArray)
(function mean (NDArray OptionalIntOrTuple Boolean) NDArray)
(function square (NDArray) NDArray)
(rewrite (std x (OptionalIntOrTuple_some (IntOrTuple_int i))) (ndarray-sqrt (mean (square (NDArray___sub__ x (mean x (OptionalIntOrTuple_some (IntOrTuple_int i)) (TRUE)))) (OptionalIntOrTuple_some (IntOrTuple_int i)) (FALSE))) :subsume :ruleset ruleset_5064589968)
(rewrite (mean x (OptionalIntOrTuple_some (IntOrTuple_int i)) (FALSE)) (NDArray___truediv__ (sum x (OptionalIntOrTuple_some (IntOrTuple_int i))) (NDArray_scalar (Value_int (TupleInt___getitem__ (NDArray_shape x) i)))) :subsume :ruleset ruleset_5064589968)
(function expand_dims (NDArray Int) NDArray)
(rewrite (mean x (OptionalIntOrTuple_some (IntOrTuple_int i)) (TRUE)) (expand_dims (NDArray___truediv__ (sum x (OptionalIntOrTuple_some (IntOrTuple_int i))) (NDArray_scalar (Value_int (TupleInt___getitem__ (NDArray_shape x) i)))) i) :subsume :ruleset ruleset_5064589968)
(let %__expr_-4303590302573073911 (OptionalBool_none))
(let %__expr_755392963466248965 (Int___init__ 2))
(let %__expr_-990525301813695487 (OptionalDType_none))
(let %__expr_8855076930384822898 (OptionalDevice_none))
(function NDArray_var (String) NDArray :cost 200)
(let %__expr_-8993155933335339035 (asarray (reshape (asarray (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of (Int___init__ 150)))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 0))) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int %__expr_755392963466248965))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898) (TupleInt_from_vec (vec-of (Int___init__ -1))) %__expr_-4303590302573073911) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))
(let %__expr_-294044290527551890 (unique_values (concat (TupleNDArray___init__ (unique_values (asarray %__expr_-8993155933335339035 %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))) (OptionalInt_none))))
(let %__expr_-277838035368029254 (OptionalInt_none))
(let %__expr_-3636589015846229112 (Int___init__ 1))
(let %__expr_-2409712210977886203 (IndexKey_int (Int___init__ 0)))
(let %__expr_-4671014753414284575 (Int___init__ 0))
(let %__expr_-3193103899592592052 (Value_int (Int___init__ 1)))
(let %__expr_2090748637113203634 (Value_int %__expr_755392963466248965))
(let %__expr_8800461850802719337 (Int___init__ 150))
(let %__expr_-2515197891056208817 (Value_int (Int___init__ 0)))
(let %__expr_8968271287986727247 (unique_inverse %__expr_-8993155933335339035))
(let %__expr_-346696523742155791 (TupleNDArray___getitem__ %__expr_8968271287986727247 %__expr_-3636589015846229112))
(let %__expr_888968520189910301 (NDArray_scalar %__expr_-2515197891056208817))
(let %__expr_8768355756772896527 (NDArray_shape (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") (DType_float64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337 (Int___init__ 4))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)))
(sort MultiAxisIndexKeyItem)
(sort Slice)
(function MultiAxisIndexKeyItem_slice (Slice) MultiAxisIndexKeyItem)
(function Slice___init__ (OptionalInt OptionalInt OptionalInt) Slice)
(let %__expr_1503884865394975690 (MultiAxisIndexKeyItem_slice (Slice___init__ %__expr_-277838035368029254 %__expr_-277838035368029254 %__expr_-277838035368029254)))
(let %__expr_-2454709417071966146 (asarray (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") (DType_float64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337 (Int___init__ 4))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898))
(let %__expr_-3045893352967658126 (FALSE))
(sort MultiAxisIndexKey)
(function IndexKey_multi_axis (MultiAxisIndexKey) IndexKey)
(sort Vec_MultiAxisIndexKeyItem (Vec MultiAxisIndexKeyItem))
(function MultiAxisIndexKey_from_vec (Vec_MultiAxisIndexKeyItem) MultiAxisIndexKey)
(function MultiAxisIndexKeyItem_int (Int) MultiAxisIndexKeyItem)
(let %__expr_469855974343835084 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-4671014753414284575) %__expr_1503884865394975690))))
(let %__expr_5553578895160412584 (Float___init__ 1.0))
(let %__expr_-4976863396675597554 (OptionalIntOrTuple_some (IntOrTuple_int %__expr_-4671014753414284575)))
(function NDArray___setitem__ (NDArray IndexKey NDArray) NDArray)
(function zeros (TupleInt OptionalDType OptionalDevice) NDArray)
(function OptionalDType_some (DType) OptionalDType)
(sort Device)
(function OptionalDevice_some (Device) OptionalDevice)
(function NDArray_device (NDArray) Device)
(function IndexKey_ndarray (NDArray) IndexKey)
(let %__expr_6782829203688770802 (NDArray___setitem__ (NDArray___setitem__ (NDArray___setitem__ (zeros (TupleInt_from_vec (vec-of (TupleInt___getitem__ (NDArray_shape (TupleNDArray___getitem__ %__expr_8968271287986727247 %__expr_-4671014753414284575)) %__expr_-4671014753414284575) (TupleInt___getitem__ %__expr_8768355756772896527 %__expr_-3636589015846229112))) (OptionalDType_some (NDArray_dtype %__expr_-2454709417071966146)) (OptionalDevice_some (NDArray_device %__expr_-2454709417071966146))) %__expr_469855974343835084 (mean (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-346696523742155791 %__expr_888968520189910301))) %__expr_-4976863396675597554 %__expr_-3045893352967658126)) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-3636589015846229112) %__expr_1503884865394975690))) (mean (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-346696523742155791 (NDArray_scalar %__expr_-3193103899592592052)))) %__expr_-4976863396675597554 %__expr_-3045893352967658126)) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_755392963466248965) %__expr_1503884865394975690))) (mean (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-346696523742155791 (NDArray_scalar %__expr_2090748637113203634)))) %__expr_-4976863396675597554 %__expr_-3045893352967658126)))
(let %__expr_-8812288226011607914 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-3636589015846229112) %__expr_1503884865394975690))))
(let %__expr_7373748767722314024 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_755392963466248965) %__expr_1503884865394975690))))
(function OptionalInt_some (Int) OptionalInt)
(let %__expr_-4845818903945609769 (std (concat (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 %__expr_-2409712210977886203)))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_469855974343835084))) (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_-3636589015846229112))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_-8812288226011607914))) (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_755392963466248965))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_7373748767722314024))))) (OptionalInt_some %__expr_-4671014753414284575)) %__expr_-4976863396675597554))
(let %__expr_-3351178202206693037 (concat (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 %__expr_-2409712210977886203)))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_469855974343835084))) (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_-3636589015846229112))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_-8812288226011607914))) (TupleNDArray___init__ (NDArray___sub__ (NDArray___getitem__ %__expr_-2454709417071966146 (IndexKey_ndarray (NDArray___eq__ %__expr_-8993155933335339035 (NDArray___getitem__ %__expr_-294044290527551890 (IndexKey_int %__expr_755392963466248965))))) (NDArray___getitem__ %__expr_6782829203688770802 %__expr_7373748767722314024))))) (OptionalInt_some %__expr_-4671014753414284575)))
(function NDArray___mul__ (NDArray NDArray) NDArray)
(let %__expr_-3021532387541159817 (Slice___init__ %__expr_-277838035368029254 (OptionalInt_some (Value_to_int (NDArray_to_value (sum (astype (NDArray___gt__ (TupleNDArray___getitem__ (svd (NDArray___mul__ (ndarray-sqrt (asarray (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ %__expr_8768355756772896527 %__expr_-4671014753414284575) (TupleInt___getitem__ (NDArray_shape %__expr_-294044290527551890) %__expr_-4671014753414284575)))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (NDArray___truediv__ %__expr_-3351178202206693037 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) %__expr_-3045893352967658126) %__expr_-3636589015846229112) (NDArray_scalar (Value_float (Float___init__ 0.0001)))) (DType_int32)) (OptionalIntOrTuple_none))))) %__expr_-277838035368029254))
(let %__expr_5701152810033784528 (TupleInt___getitem__ %__expr_8768355756772896527 %__expr_-4671014753414284575))
(let %__expr_6487687809380785968 (TupleInt___getitem__ (NDArray_shape %__expr_-294044290527551890) %__expr_-4671014753414284575))
(let %__expr_-6187783262847860806 (NDArray_dtype %__expr_-2454709417071966146))
(let %__expr_-315001527591743086 (TupleNDArray___getitem__ (svd (NDArray___mul__ (ndarray-sqrt (asarray (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ %__expr_8768355756772896527 %__expr_-4671014753414284575) (TupleInt___getitem__ (NDArray_shape %__expr_-294044290527551890) %__expr_-4671014753414284575)))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (NDArray___truediv__ %__expr_-3351178202206693037 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) %__expr_-3045893352967658126) %__expr_-3636589015846229112))
(let %__expr_-9037266425291862563 (svd (NDArray___mul__ (ndarray-sqrt (asarray (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ (TupleInt___getitem__ %__expr_8768355756772896527 %__expr_-4671014753414284575) (TupleInt___getitem__ (NDArray_shape %__expr_-294044290527551890) %__expr_-4671014753414284575)))))) %__expr_-990525301813695487 %__expr_-4303590302573073911 %__expr_8855076930384822898)) (NDArray___truediv__ %__expr_-3351178202206693037 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) %__expr_-3045893352967658126))
(function NDArray___matmul__ (NDArray NDArray) NDArray)
(function IndexKey_slice (Slice) IndexKey)
(let %__expr_-6769231790204798359 (TupleNDArray___getitem__ (svd (NDArray___matmul__ (NDArray_T (NDArray___mul__ (ndarray-sqrt (NDArray___mul__ (NDArray___mul__ (NDArray_scalar (Value_int %__expr_5701152810033784528)) (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts %__expr_-8993155933335339035) %__expr_-3636589015846229112) %__expr_-6187783262847860806) (NDArray_scalar (Value_float (Float___init__ 150.0))))) (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ %__expr_6487687809380785968 %__expr_-3636589015846229112))))))) (NDArray_T (NDArray___sub__ %__expr_6782829203688770802 (NDArray___matmul__ (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts %__expr_-8993155933335339035) %__expr_-3636589015846229112) %__expr_-6187783262847860806) (NDArray_scalar (Value_float (Float___init__ 150.0)))) %__expr_6782829203688770802))))) (NDArray___truediv__ (NDArray_T (NDArray___truediv__ (NDArray___getitem__ (TupleNDArray___getitem__ %__expr_-9037266425291862563 %__expr_755392963466248965) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_slice %__expr_-3021532387541159817) %__expr_1503884865394975690)))) (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) (NDArray___getitem__ %__expr_-315001527591743086 (IndexKey_slice %__expr_-3021532387541159817)))) %__expr_-3045893352967658126) %__expr_-3636589015846229112))
(let %__expr_1884788319774111777 (svd (NDArray___matmul__ (NDArray_T (NDArray___mul__ (ndarray-sqrt (NDArray___mul__ (NDArray___mul__ (NDArray_scalar (Value_int %__expr_5701152810033784528)) (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts %__expr_-8993155933335339035) %__expr_-3636589015846229112) %__expr_-6187783262847860806) (NDArray_scalar (Value_float (Float___init__ 150.0))))) (NDArray_scalar (Value_float (Float___truediv__ %__expr_5553578895160412584 (Float_from_int (Int___sub__ %__expr_6487687809380785968 %__expr_-3636589015846229112))))))) (NDArray_T (NDArray___sub__ %__expr_6782829203688770802 (NDArray___matmul__ (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts %__expr_-8993155933335339035) %__expr_-3636589015846229112) %__expr_-6187783262847860806) (NDArray_scalar (Value_float (Float___init__ 150.0)))) %__expr_6782829203688770802))))) (NDArray___truediv__ (NDArray_T (NDArray___truediv__ (NDArray___getitem__ (TupleNDArray___getitem__ %__expr_-9037266425291862563 %__expr_755392963466248965) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_slice %__expr_-3021532387541159817) %__expr_1503884865394975690)))) (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) (NDArray___getitem__ %__expr_-315001527591743086 (IndexKey_slice %__expr_-3021532387541159817)))) %__expr_-3045893352967658126))
(let %__expr_-5559224042962614522 (DType_int32))
(let %__expr_-6676107104927312104 (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts %__expr_-8993155933335339035) %__expr_-3636589015846229112) %__expr_-6187783262847860806) (NDArray_scalar (Value_float (Float___init__ 150.0)))))
(let %__expr_5888173354829332981 (NDArray___matmul__ (NDArray___truediv__ (astype (TupleNDArray___getitem__ (unique_counts %__expr_-8993155933335339035) %__expr_-3636589015846229112) %__expr_-6187783262847860806) (NDArray_scalar (Value_float (Float___init__ 150.0)))) %__expr_6782829203688770802))
(let %__expr_2473377876388853102 (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))
(let %__expr_-3035386490804382424 (NDArray___truediv__ (NDArray_T (NDArray___truediv__ (NDArray___getitem__ (TupleNDArray___getitem__ %__expr_-9037266425291862563 %__expr_755392963466248965) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_slice %__expr_-3021532387541159817) %__expr_1503884865394975690)))) (NDArray___setitem__ %__expr_-4845818903945609769 (IndexKey_ndarray (NDArray___eq__ %__expr_-4845818903945609769 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float___init__ 1.0)))))) (NDArray___getitem__ %__expr_-315001527591743086 (IndexKey_slice %__expr_-3021532387541159817))))
(simplify (saturate (seq (run array_api_ruleset) (run ruleset_5064589968))) (NDArray___getitem__ (NDArray___matmul__ (NDArray___sub__ %__expr_-2454709417071966146 %__expr_5888173354829332981) (NDArray___matmul__ %__expr_-3035386490804382424 (NDArray___getitem__ (NDArray_T (TupleNDArray___getitem__ %__expr_1884788319774111777 %__expr_755392963466248965)) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of %__expr_1503884865394975690 (MultiAxisIndexKeyItem_slice (Slice___init__ %__expr_-277838035368029254 (OptionalInt_some (Value_to_int (NDArray_to_value (sum (astype (NDArray___gt__ %__expr_-6769231790204798359 (NDArray___mul__ (NDArray_scalar (Value_float (Float___init__ 0.0001))) (NDArray___getitem__ %__expr_-6769231790204798359 %__expr_-2409712210977886203))) %__expr_-5559224042962614522) (OptionalIntOrTuple_none))))) %__expr_-277838035368029254)))))))) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of %__expr_1503884865394975690 (MultiAxisIndexKeyItem_slice (Slice___init__ %__expr_-277838035368029254 (OptionalInt_some %__expr_755392963466248965) %__expr_-277838035368029254)))))))
(pop 1)
(sort Int)
(function Int___init__ (i64) Int)
(let %__expr_-4671014753414284575 (Int___init__ 0))
(let %__expr_8800461850802719337 (Int___init__ 150))
(sort NDArray)
(sort IndexKey)
(function NDArray___getitem__ (NDArray IndexKey) NDArray)
(function assume_isfinite (NDArray) NDArray)
(sort TupleInt)
(function assume_shape (NDArray TupleInt) NDArray)
(sort DType)
(function assume_dtype (NDArray DType) NDArray)
(function NDArray_var (String) NDArray :cost 200)
(function DType_float64 () DType)
(sort Vec_Int (Vec Int))
(function TupleInt_from_vec (Vec_Int) TupleInt)
(function IndexKey_ndarray (NDArray) IndexKey)
(function NDArray___eq__ (NDArray NDArray) NDArray)
(sort TupleValue)
(function assume_value_one_of (NDArray TupleValue) NDArray)
(function DType_int64 () DType)
(function TupleValue___add__ (TupleValue TupleValue) TupleValue)
(sort Value)
(function TupleValue___init__ (Value) TupleValue)
(function Value_int (Int) Value)
(function NDArray_scalar (Value) NDArray)
(let %__expr_-3473821386163038220 (NDArray___getitem__ (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") (DType_float64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337 (Int___init__ 4))))) (IndexKey_ndarray (NDArray___eq__ (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337))) (TupleValue___add__ (TupleValue___init__ (Value_int %__expr_-4671014753414284575)) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (NDArray_scalar (Value_int %__expr_-4671014753414284575))))))
(let %__expr_-3193103899592592052 (Value_int (Int___init__ 1)))
(let %__expr_2090748637113203634 (Value_int (Int___init__ 2)))
(let %__expr_-4688800770552726910 (assume_isfinite (assume_shape (assume_dtype (NDArray_var "X") (DType_float64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337 (Int___init__ 4))))))
(let %__expr_8326680938997940725 (NDArray___getitem__ %__expr_-4688800770552726910 (IndexKey_ndarray (NDArray___eq__ (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337))) (TupleValue___add__ (TupleValue___init__ (Value_int %__expr_-4671014753414284575)) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (NDArray_scalar %__expr_-3193103899592592052)))))
(sort OptionalIntOrTuple)
(sort IntOrTuple)
(function OptionalIntOrTuple_some (IntOrTuple) OptionalIntOrTuple)
(function IntOrTuple_int (Int) IntOrTuple)
(let %__expr_-4976863396675597554 (OptionalIntOrTuple_some (IntOrTuple_int %__expr_-4671014753414284575)))
(let %__expr_-3636589015846229112 (Int___init__ 1))
(let %__expr_-2298714861395141926 (Int___init__ 4))
(let %__expr_-2515197891056208817 (Value_int %__expr_-4671014753414284575))
(let %__expr_4101187900440652363 (DType_float64))
(sort MultiAxisIndexKeyItem)
(sort Slice)
(function MultiAxisIndexKeyItem_slice (Slice) MultiAxisIndexKeyItem)
(sort OptionalInt)
(function Slice___init__ (OptionalInt OptionalInt OptionalInt) Slice)
(function OptionalInt_none () OptionalInt)
(let %__expr_1503884865394975690 (MultiAxisIndexKeyItem_slice (Slice___init__ (OptionalInt_none) (OptionalInt_none) (OptionalInt_none))))
(let %__expr_5698022980052622903 (NDArray___getitem__ %__expr_-4688800770552726910 (IndexKey_ndarray (NDArray___eq__ (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337))) (TupleValue___add__ (TupleValue___init__ (Value_int %__expr_-4671014753414284575)) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (NDArray_scalar %__expr_2090748637113203634)))))
(sort MultiAxisIndexKey)
(function IndexKey_multi_axis (MultiAxisIndexKey) IndexKey)
(sort Vec_MultiAxisIndexKeyItem (Vec MultiAxisIndexKeyItem))
(function MultiAxisIndexKey_from_vec (Vec_MultiAxisIndexKeyItem) MultiAxisIndexKey)
(function MultiAxisIndexKeyItem_int (Int) MultiAxisIndexKeyItem)
(let %__expr_-795645184301196957 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int (Int___init__ 2)) %__expr_1503884865394975690))))
(let %__expr_3323365144993085153 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-3636589015846229112) %__expr_1503884865394975690))))
(let %__expr_7232724363220639299 (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_int %__expr_-4671014753414284575) %__expr_1503884865394975690))))
(let %__expr_755392963466248965 (Int___init__ 2))
(function NDArray___setitem__ (NDArray IndexKey NDArray) NDArray)
(sort OptionalDType)
(sort OptionalDevice)
(function zeros (TupleInt OptionalDType OptionalDevice) NDArray)
(function OptionalDType_some (DType) OptionalDType)
(sort Device)
(function OptionalDevice_some (Device) OptionalDevice)
(function NDArray_device (NDArray) Device)
(function NDArray___truediv__ (NDArray NDArray) NDArray)
(function sum (NDArray OptionalIntOrTuple) NDArray)
(function TupleInt___getitem__ (TupleInt Int) Int)
(function NDArray_shape (NDArray) TupleInt)
(let %__expr_-4084543222422775141 (NDArray___setitem__ (NDArray___setitem__ (NDArray___setitem__ (zeros (TupleInt_from_vec (vec-of (Int___init__ 3) %__expr_-2298714861395141926)) (OptionalDType_some %__expr_4101187900440652363) (OptionalDevice_some (NDArray_device %__expr_-4688800770552726910))) %__expr_7232724363220639299 (NDArray___truediv__ (sum %__expr_-3473821386163038220 %__expr_-4976863396675597554) (NDArray_scalar (Value_int (TupleInt___getitem__ (NDArray_shape %__expr_-3473821386163038220) %__expr_-4671014753414284575))))) %__expr_3323365144993085153 (NDArray___truediv__ (sum %__expr_8326680938997940725 %__expr_-4976863396675597554) (NDArray_scalar (Value_int (TupleInt___getitem__ (NDArray_shape %__expr_8326680938997940725) %__expr_-4671014753414284575))))) %__expr_-795645184301196957 (NDArray___truediv__ (sum %__expr_5698022980052622903 %__expr_-4976863396675597554) (NDArray_scalar (Value_int (TupleInt___getitem__ (NDArray_shape %__expr_5698022980052622903) %__expr_-4671014753414284575))))))
(sort TupleNDArray)
(function concat (TupleNDArray OptionalInt) NDArray)
(function TupleNDArray___add__ (TupleNDArray TupleNDArray) TupleNDArray)
(function TupleNDArray___init__ (NDArray) TupleNDArray)
(function NDArray___sub__ (NDArray NDArray) NDArray)
(function OptionalInt_some (Int) OptionalInt)
(let %__expr_-5454083913435783283 (concat (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ %__expr_-3473821386163038220 (NDArray___getitem__ %__expr_-4084543222422775141 %__expr_7232724363220639299))) (TupleNDArray___add__ (TupleNDArray___init__ (NDArray___sub__ %__expr_8326680938997940725 (NDArray___getitem__ %__expr_-4084543222422775141 %__expr_3323365144993085153))) (TupleNDArray___init__ (NDArray___sub__ %__expr_5698022980052622903 (NDArray___getitem__ %__expr_-4084543222422775141 %__expr_-795645184301196957))))) (OptionalInt_some %__expr_-4671014753414284575)))
(let %__expr_4590898867152193220 (NDArray___eq__ (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337))) (TupleValue___add__ (TupleValue___init__ (Value_int %__expr_-4671014753414284575)) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (NDArray_scalar %__expr_2090748637113203634)))
(function OptionalIntOrTuple_none () OptionalIntOrTuple)
(let %__expr_2665112130965315478 (OptionalIntOrTuple_none))
(let %__expr_-608551224937479330 (NDArray___eq__ (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337))) (TupleValue___add__ (TupleValue___init__ (Value_int %__expr_-4671014753414284575)) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (NDArray_scalar %__expr_-3193103899592592052)))
(let %__expr_-5257952192217027907 (NDArray___eq__ (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337))) (TupleValue___add__ (TupleValue___init__ (Value_int %__expr_-4671014753414284575)) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))) (NDArray_scalar (Value_int %__expr_-4671014753414284575))))
(let %__expr_8511786851084399467 (assume_value_one_of (assume_shape (assume_dtype (NDArray_var "y") (DType_int64)) (TupleInt_from_vec (vec-of %__expr_8800461850802719337))) (TupleValue___add__ (TupleValue___init__ (Value_int %__expr_-4671014753414284575)) (TupleValue___add__ (TupleValue___init__ (Value_int (Int___init__ 1))) (TupleValue___init__ (Value_int (Int___init__ 2)))))))
(function square (NDArray) NDArray)
(function expand_dims (NDArray Int) NDArray)
(let %__expr_-1359368604848933744 (square (NDArray___sub__ %__expr_-5454083913435783283 (expand_dims (NDArray___truediv__ (sum %__expr_-5454083913435783283 %__expr_-4976863396675597554) (NDArray_scalar (Value_int (TupleInt___getitem__ (NDArray_shape %__expr_-5454083913435783283) %__expr_-4671014753414284575)))) %__expr_-4671014753414284575))))
(let %__expr_-277838035368029254 (OptionalInt_none))
(let %__expr_888968520189910301 (NDArray_scalar (Value_int %__expr_-4671014753414284575)))
(let %__expr_-3240316658536798486 1)
(function ndarray-sqrt (NDArray) NDArray)
(let %__expr_-2066297328423310743 (ndarray-sqrt (NDArray___truediv__ (sum %__expr_-1359368604848933744 %__expr_-4976863396675597554) (NDArray_scalar (Value_int (TupleInt___getitem__ (NDArray_shape %__expr_-1359368604848933744) %__expr_-4671014753414284575))))))
(function Value_to_int (Value) Int)
(function NDArray_to_value (NDArray) Value)
(function astype (NDArray DType) NDArray)
(function NDArray___gt__ (NDArray NDArray) NDArray)
(function TupleNDArray___getitem__ (TupleNDArray Int) NDArray)
(sort Boolean)
(function svd (NDArray Boolean) TupleNDArray)
(function NDArray___mul__ (NDArray NDArray) NDArray)
(sort Float)
(function Value_float (Float) Value)
(function Float_rational (Rational) Float :cost 2)
(function FALSE () Boolean)
(function Float___init__ (f64) Float :cost 3)
(function DType_int32 () DType)
(let %__expr_4399334460195737951 (Slice___init__ %__expr_-277838035368029254 (OptionalInt_some (Value_to_int (NDArray_to_value (sum (astype (NDArray___gt__ (TupleNDArray___getitem__ (svd (NDArray___mul__ (ndarray-sqrt (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 147))))) (NDArray___truediv__ %__expr_-5454083913435783283 (NDArray___setitem__ %__expr_-2066297328423310743 (IndexKey_ndarray (NDArray___eq__ %__expr_-2066297328423310743 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 %__expr_-3240316658536798486))))))) (FALSE)) %__expr_-3636589015846229112) (NDArray_scalar (Value_float (Float___init__ 0.0001)))) (DType_int32)) %__expr_2665112130965315478)))) %__expr_-277838035368029254))
(let %__expr_-6024165510290428751 150)
(function NDArray_vector (TupleValue) NDArray)
(let %__expr_-4005821647467750755 (NDArray___truediv__ (astype (NDArray_vector (TupleValue___add__ (TupleValue___init__ (NDArray_to_value (sum %__expr_-5257952192217027907 %__expr_2665112130965315478))) (TupleValue___add__ (TupleValue___init__ (NDArray_to_value (sum %__expr_-608551224937479330 %__expr_2665112130965315478))) (TupleValue___init__ (NDArray_to_value (sum %__expr_4590898867152193220 %__expr_2665112130965315478)))))) %__expr_4101187900440652363) (NDArray_scalar (Value_float (Float_rational (rational %__expr_-6024165510290428751 %__expr_-3240316658536798486))))))
(let %__expr_-3931088046849885566 (TupleNDArray___getitem__ (svd (NDArray___mul__ (ndarray-sqrt (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 147))))) (NDArray___truediv__ %__expr_-5454083913435783283 (NDArray___setitem__ %__expr_-2066297328423310743 (IndexKey_ndarray (NDArray___eq__ %__expr_-2066297328423310743 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 %__expr_-3240316658536798486))))))) (FALSE)) %__expr_-3636589015846229112))
(let %__expr_-2315365344465410478 (svd (NDArray___mul__ (ndarray-sqrt (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 147))))) (NDArray___truediv__ %__expr_-5454083913435783283 (NDArray___setitem__ %__expr_-2066297328423310743 (IndexKey_ndarray (NDArray___eq__ %__expr_-2066297328423310743 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 %__expr_-3240316658536798486))))))) (FALSE)))
(let %__expr_-512142818984394169 (NDArray___setitem__ %__expr_-2066297328423310743 (IndexKey_ndarray (NDArray___eq__ %__expr_-2066297328423310743 %__expr_888968520189910301)) (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 %__expr_-3240316658536798486))))))
(let %__expr_-3045893352967658126 (FALSE))
(function NDArray___matmul__ (NDArray NDArray) NDArray)
(function NDArray_T (NDArray) NDArray)
(function IndexKey_slice (Slice) IndexKey)
(let %__expr_7487275443900416961 (TupleNDArray___getitem__ (svd (NDArray___matmul__ (NDArray_T (NDArray___mul__ (ndarray-sqrt (NDArray___mul__ (NDArray___mul__ (NDArray_scalar (Value_int %__expr_8800461850802719337)) %__expr_-4005821647467750755) (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 2)))))) (NDArray_T (NDArray___sub__ %__expr_-4084543222422775141 (NDArray___matmul__ %__expr_-4005821647467750755 %__expr_-4084543222422775141))))) (NDArray___truediv__ (NDArray_T (NDArray___truediv__ (NDArray___getitem__ (TupleNDArray___getitem__ %__expr_-2315365344465410478 %__expr_755392963466248965) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_slice %__expr_4399334460195737951) %__expr_1503884865394975690)))) %__expr_-512142818984394169)) (NDArray___getitem__ %__expr_-3931088046849885566 (IndexKey_slice %__expr_4399334460195737951)))) %__expr_-3045893352967658126) %__expr_-3636589015846229112))
(let %__expr_6183362166771178405 2)
(let %__expr_-5395166694618893324 (svd (NDArray___matmul__ (NDArray_T (NDArray___mul__ (ndarray-sqrt (NDArray___mul__ (NDArray___mul__ (NDArray_scalar (Value_int %__expr_8800461850802719337)) %__expr_-4005821647467750755) (NDArray_scalar (Value_float (Float_rational (rational %__expr_-3240316658536798486 2)))))) (NDArray_T (NDArray___sub__ %__expr_-4084543222422775141 (NDArray___matmul__ %__expr_-4005821647467750755 %__expr_-4084543222422775141))))) (NDArray___truediv__ (NDArray_T (NDArray___truediv__ (NDArray___getitem__ (TupleNDArray___getitem__ %__expr_-2315365344465410478 %__expr_755392963466248965) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_slice %__expr_4399334460195737951) %__expr_1503884865394975690)))) %__expr_-512142818984394169)) (NDArray___getitem__ %__expr_-3931088046849885566 (IndexKey_slice %__expr_4399334460195737951)))) %__expr_-3045893352967658126))
(let %__expr_-5559224042962614522 (DType_int32))
(let %__expr_2976592046696346842 (NDArray_scalar (Value_float (Float___init__ 0.0001))))
(let %__expr_-7009371984517665352 (NDArray___matmul__ %__expr_-4005821647467750755 %__expr_-4084543222422775141))
(let %__expr_-6216319311343226647 (NDArray_var "y"))
(let %__expr_6240449845396421003 (NDArray___truediv__ (NDArray_T (NDArray___truediv__ (NDArray___getitem__ (TupleNDArray___getitem__ %__expr_-2315365344465410478 %__expr_755392963466248965) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of (MultiAxisIndexKeyItem_slice %__expr_4399334460195737951) %__expr_1503884865394975690)))) %__expr_-512142818984394169)) (NDArray___getitem__ %__expr_-3931088046849885566 (IndexKey_slice %__expr_4399334460195737951))))
(let %__expr_4033771585938608070 (NDArray_var "X"))
(sort Program)
(function ndarray_function_two (NDArray NDArray NDArray) Program)
(function IndexKey_int (Int) IndexKey)
(let %fn_program (ndarray_function_two (NDArray___getitem__ (NDArray___matmul__ (NDArray___sub__ %__expr_-4688800770552726910 %__expr_-7009371984517665352) (NDArray___matmul__ %__expr_6240449845396421003 (NDArray___getitem__ (NDArray_T (TupleNDArray___getitem__ %__expr_-5395166694618893324 %__expr_755392963466248965)) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of %__expr_1503884865394975690 (MultiAxisIndexKeyItem_slice (Slice___init__ %__expr_-277838035368029254 (OptionalInt_some (Value_to_int (NDArray_to_value (sum (astype (NDArray___gt__ %__expr_7487275443900416961 (NDArray___mul__ %__expr_2976592046696346842 (NDArray___getitem__ %__expr_7487275443900416961 (IndexKey_int %__expr_-4671014753414284575)))) %__expr_-5559224042962614522) %__expr_2665112130965315478)))) %__expr_-277838035368029254)))))))) (IndexKey_multi_axis (MultiAxisIndexKey_from_vec (vec-of %__expr_1503884865394975690 (MultiAxisIndexKeyItem_slice (Slice___init__ %__expr_-277838035368029254 (OptionalInt_some %__expr_755392963466248965) %__expr_-277838035368029254)))))) %__expr_4033771585938608070 %__expr_-6216319311343226647))
(ruleset ruleset_5064591888)
(function ndarray_program (NDArray) Program)
(function Program___init__ (String bool) Program)
(rewrite (ndarray_program (NDArray_var s)) (Program___init__ s true) :ruleset ruleset_5064591888)
(function Program_statement (Program Program) Program :unextractable)
(function Program___add__ (Program Program) Program)
(function dtype_program (DType) Program)
(rewrite (ndarray_program (assume_dtype z dtype)) (Program_statement (ndarray_program z) (Program___add__ (Program___add__ (Program___add__ (Program___init__ "assert " false) (ndarray_program z)) (Program___init__ ".dtype == " false)) (dtype_program dtype))) :ruleset ruleset_5064591888)
(function tuple_int_program (TupleInt) Program)
(rewrite (ndarray_program (assume_shape z ti)) (Program_statement (ndarray_program z) (Program___add__ (Program___add__ (Program___add__ (Program___init__ "assert " false) (ndarray_program z)) (Program___init__ ".shape == " false)) (tuple_int_program ti))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (assume_isfinite z)) (Program_statement (ndarray_program z) (Program___add__ (Program___add__ (Program___init__ "assert np.all(np.isfinite(" false) (ndarray_program z)) (Program___init__ "))" false))) :ruleset ruleset_5064591888)
(function tuple_value_program (TupleValue) Program)
(rewrite (ndarray_program (assume_value_one_of z tv)) (Program_statement (ndarray_program z) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "assert set(np.unique(" false) (ndarray_program z)) (Program___init__ ")) == set(" false)) (tuple_value_program tv)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(sort OptionalBool)
(function reshape (NDArray TupleInt OptionalBool) NDArray)
(function Program_assign (Program) Program)
(rewrite (ndarray_program (reshape y ti ob)) (Program_assign (Program___add__ (Program___add__ (Program___add__ (ndarray_program y) (Program___init__ ".reshape(" false)) (tuple_int_program ti)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (astype y dtype)) (Program_assign (Program___add__ (Program___add__ (Program___add__ (ndarray_program y) (Program___init__ ".astype(" false)) (dtype_program dtype)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(function tuple_ndarray_program (TupleNDArray) Program)
(function unique_counts (NDArray) TupleNDArray)
(rewrite (tuple_ndarray_program (unique_counts x)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.unique(" false) (ndarray_program x)) (Program___init__ ", return_counts=True)" false))) :ruleset ruleset_5064591888)
(function unique_inverse (NDArray) TupleNDArray)
(rewrite (tuple_ndarray_program (unique_inverse x)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.unique(" false) (ndarray_program x)) (Program___init__ ", return_inverse=True)" false))) :ruleset ruleset_5064591888)
(function int_program (Int) Program)
(rewrite (ndarray_program (TupleNDArray___getitem__ tnd i)) (Program___add__ (Program___add__ (Program___add__ (tuple_ndarray_program tnd) (Program___init__ "[" false)) (int_program i)) (Program___init__ "]" false)) :ruleset ruleset_5064591888)
(function value_program (Value) Program)
(rewrite (ndarray_program (NDArray_scalar v)) (Program___add__ (Program___add__ (Program___init__ "np.array(" false) (value_program v)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function OptionalDType_none () OptionalDType)
(rewrite (ndarray_program (zeros ti (OptionalDType_none) optional_device_)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.zeros(" false) (tuple_int_program ti)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (zeros ti (OptionalDType_some dtype) optional_device_)) (Program_assign (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "np.zeros(" false) (tuple_int_program ti)) (Program___init__ ", dtype=" false)) (dtype_program dtype)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(function unique_values (NDArray) NDArray)
(rewrite (ndarray_program (unique_values x)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.unique(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(function NDArray___add__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___add__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " + " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray___sub__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " - " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray___mul__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " * " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray___truediv__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " / " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___lt__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___lt__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " < " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___le__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___le__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " <= " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray___gt__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " > " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___ge__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___ge__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " >= " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray___eq__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " == " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray___matmul__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " @ " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___mod__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___mod__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " % " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___and__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___and__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " & " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___or__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___or__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " | " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___xor__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___xor__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " ^ " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___lshift__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___lshift__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " << " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___rshift__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___rshift__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " >> " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___floordiv__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___floordiv__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " // " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function NDArray___pow__ (NDArray NDArray) NDArray)
(rewrite (ndarray_program (NDArray___pow__ x y)) (Program_assign (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ " ** " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(function index_key_program (IndexKey) Program)
(rewrite (ndarray_program (NDArray___setitem__ x idx y)) (Program_statement (Program_assign (ndarray_program x)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program_assign (ndarray_program x)) (Program___init__ "[" false)) (index_key_program idx)) (Program___init__ "] = " false)) (ndarray_program y))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray___getitem__ x idx)) (Program___add__ (Program___add__ (Program___add__ (ndarray_program x) (Program___init__ "[" false)) (index_key_program idx)) (Program___init__ "]" false)) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (square x)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.square(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (expand_dims x i)) (Program_assign (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "np.expand_dims(" false) (ndarray_program x)) (Program___init__ ", " false)) (int_program i)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(function mean (NDArray OptionalIntOrTuple Boolean) NDArray)
(rewrite (ndarray_program (mean x %__expr_2665112130965315478 %__expr_-3045893352967658126)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.mean(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(function int_or_tuple_program (IntOrTuple) Program)
(rewrite (ndarray_program (mean x (OptionalIntOrTuple_some int_or_tuple_) %__expr_-3045893352967658126)) (Program_assign (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "np.mean(" false) (ndarray_program x)) (Program___init__ ", axis=" false)) (int_or_tuple_program int_or_tuple_)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(function TRUE () Boolean)
(rewrite (ndarray_program (mean x (OptionalIntOrTuple_some int_or_tuple_) (TRUE))) (Program_assign (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "np.mean(" false) (ndarray_program x)) (Program___init__ ", axis=" false)) (int_or_tuple_program int_or_tuple_)) (Program___init__ ", keepdims=True)" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (concat tnd %__expr_-277838035368029254)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.concatenate(" false) (tuple_ndarray_program tnd)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (concat tnd (OptionalInt_some i))) (Program_assign (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "np.concatenate(" false) (tuple_ndarray_program tnd)) (Program___init__ ", axis=" false)) (int_program i)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray_vector tv)) (Program___add__ (Program___add__ (Program___init__ "np.array(" false) (tuple_value_program tv)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function std (NDArray OptionalIntOrTuple) NDArray)
(rewrite (ndarray_program (std x %__expr_2665112130965315478)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.std(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (std x (OptionalIntOrTuple_some int_or_tuple_))) (Program_assign (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "np.std(" false) (ndarray_program x)) (Program___init__ ", axis=" false)) (int_or_tuple_program int_or_tuple_)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (tuple_ndarray_program (svd x (TRUE))) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.linalg.svd(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (tuple_ndarray_program (svd x %__expr_-3045893352967658126)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.linalg.svd(" false) (ndarray_program x)) (Program___init__ ", full_matrices=False)" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (ndarray-sqrt x)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.sqrt(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (NDArray_T x)) (Program___add__ (ndarray_program x) (Program___init__ ".T" false)) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (sum x %__expr_2665112130965315478)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.sum(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (sum x (OptionalIntOrTuple_some int_or_tuple_))) (Program_assign (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "np.sum(" false) (ndarray_program x)) (Program___init__ ", axis=" false)) (int_or_tuple_program int_or_tuple_)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(rewrite (tuple_int_program (NDArray_shape x)) (Program___add__ (ndarray_program x) (Program___init__ ".shape" false)) :ruleset ruleset_5064591888)
(function ndarray-abs (NDArray) NDArray)
(rewrite (ndarray_program (ndarray-abs x)) (Program_assign (Program___add__ (Program___add__ (Program___init__ "np.abs(" false) (ndarray_program x)) (Program___init__ ")" false))) :ruleset ruleset_5064591888)
(function optional_int_or_tuple_program (OptionalIntOrTuple) Program)
(rewrite (optional_int_or_tuple_program (OptionalIntOrTuple_some it)) (int_or_tuple_program it) :ruleset ruleset_5064591888)
(rewrite (optional_int_or_tuple_program %__expr_2665112130965315478) (Program___init__ "None" false) :ruleset ruleset_5064591888)
(rewrite (int_or_tuple_program (IntOrTuple_int x)) (int_program x) :ruleset ruleset_5064591888)
(function IntOrTuple_tuple (TupleInt) IntOrTuple)
(rewrite (int_or_tuple_program (IntOrTuple_tuple t)) (tuple_int_program t) :ruleset ruleset_5064591888)
(function IndexKey_ELLIPSIS () IndexKey)
(rewrite (index_key_program (IndexKey_ELLIPSIS)) (Program___init__ "..." false) :ruleset ruleset_5064591888)
(rewrite (index_key_program (IndexKey_int i)) (int_program i) :ruleset ruleset_5064591888)
(function slice_program (Slice) Program)
(rewrite (index_key_program (IndexKey_slice s)) (slice_program s) :ruleset ruleset_5064591888)
(function multi_axis_index_key_program (MultiAxisIndexKey) Program)
(rewrite (index_key_program (IndexKey_multi_axis key)) (multi_axis_index_key_program key) :ruleset ruleset_5064591888)
(rewrite (index_key_program (IndexKey_ndarray a)) (ndarray_program a) :ruleset ruleset_5064591888)
(sort UnstableFn_MultiAxisIndexKeyItem_Int (UnstableFn (Int) MultiAxisIndexKeyItem))
(function Int___add__ (Int Int) Int)
(function idx_fn-UnstableFn_MultiAxisIndexKeyItem_Int_i-Int__unstable-app_idx_fn__Int___add___i_%__expr_-3636589015846229112__ (UnstableFn_MultiAxisIndexKeyItem_Int Int) MultiAxisIndexKeyItem)
(rewrite (idx_fn-UnstableFn_MultiAxisIndexKeyItem_Int_i-Int__unstable-app_idx_fn__Int___add___i_%__expr_-3636589015846229112__ idx_fn i) (unstable-app idx_fn (Int___add__ i %__expr_-3636589015846229112)) :ruleset ruleset_5064591888)
(function MultiAxisIndexKey___init__ (Int UnstableFn_MultiAxisIndexKeyItem_Int) MultiAxisIndexKey)
(rewrite (multi_axis_index_key_program (MultiAxisIndexKey___init__ %__expr_-4671014753414284575 idx_fn)) (Program___init__ "" false) :ruleset ruleset_5064591888)
(function multi_axis_index_key_item_program (MultiAxisIndexKeyItem) Program)
(rewrite (multi_axis_index_key_program (MultiAxisIndexKey___init__ (Int___init__ k) idx_fn)) (Program___add__ (Program___add__ (multi_axis_index_key_item_program (unstable-app idx_fn %__expr_-4671014753414284575)) (Program___init__ ", " false)) (multi_axis_index_key_program (MultiAxisIndexKey___init__ (Int___init__ (- k %__expr_-3240316658536798486)) (unstable-fn "idx_fn-UnstableFn_MultiAxisIndexKeyItem_Int_i-Int__unstable-app_idx_fn__Int___add___i_%__expr_-3636589015846229112__" idx_fn)))) :when ((!= k 0)) :ruleset ruleset_5064591888)
(rewrite (multi_axis_index_key_program (MultiAxisIndexKey_from_vec (vec-of))) (Program___init__ "" false) :ruleset ruleset_5064591888)
(rewrite (multi_axis_index_key_program (MultiAxisIndexKey_from_vec vec)) (Program___add__ (multi_axis_index_key_item_program (vec-get vec 0)) (Program___init__ "," false)) :when ((= (vec-length vec) %__expr_-3240316658536798486)) :ruleset ruleset_5064591888)
(rewrite (multi_axis_index_key_program (MultiAxisIndexKey_from_vec vec)) (Program___add__ (Program___add__ (multi_axis_index_key_item_program (vec-get vec 0)) (Program___init__ ", " false)) (multi_axis_index_key_program (MultiAxisIndexKey_from_vec (vec-remove vec 0)))) :when ((> (vec-length vec) %__expr_-3240316658536798486)) :ruleset ruleset_5064591888)
(rewrite (multi_axis_index_key_item_program (MultiAxisIndexKeyItem_int i)) (int_program i) :ruleset ruleset_5064591888)
(rewrite (multi_axis_index_key_item_program (MultiAxisIndexKeyItem_slice s)) (slice_program s) :ruleset ruleset_5064591888)
(function MultiAxisIndexKeyItem_ELLIPSIS () MultiAxisIndexKeyItem)
(rewrite (multi_axis_index_key_item_program (MultiAxisIndexKeyItem_ELLIPSIS)) (Program___init__ "..." false) :ruleset ruleset_5064591888)
(function MultiAxisIndexKeyItem_NONE () MultiAxisIndexKeyItem)
(rewrite (multi_axis_index_key_item_program (MultiAxisIndexKeyItem_NONE)) (Program___init__ "None" false) :ruleset ruleset_5064591888)
(function optional_int_slice_program (OptionalInt) Program)
(rewrite (slice_program (Slice___init__ start stop %__expr_-277838035368029254)) (Program___add__ (Program___add__ (optional_int_slice_program start) (Program___init__ ":" false)) (optional_int_slice_program stop)) :ruleset ruleset_5064591888)
(rewrite (slice_program (Slice___init__ start stop (OptionalInt_some i))) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (optional_int_slice_program start) (Program___init__ ":" false)) (optional_int_slice_program stop)) (Program___init__ ":" false)) (int_program i)) :ruleset ruleset_5064591888)
(rewrite (optional_int_slice_program %__expr_-277838035368029254) (Program___init__ "" false) :ruleset ruleset_5064591888)
(rewrite (optional_int_slice_program (OptionalInt_some x)) (int_program x) :ruleset ruleset_5064591888)
(function optional_int_program (OptionalInt) Program)
(rewrite (optional_int_program %__expr_-277838035368029254) (Program___init__ "None" false) :ruleset ruleset_5064591888)
(rewrite (optional_int_program (OptionalInt_some x)) (int_program x) :ruleset ruleset_5064591888)
(function optional_dtype_program (OptionalDType) Program)
(rewrite (optional_dtype_program (OptionalDType_none)) (Program___init__ "None" false) :ruleset ruleset_5064591888)
(rewrite (optional_dtype_program (OptionalDType_some dtype)) (dtype_program dtype) :ruleset ruleset_5064591888)
(function tuple_ndarray_program_inner (TupleNDArray) Program)
(rewrite (tuple_ndarray_program r) (Program___add__ (Program___add__ (Program___init__ "(" false) (tuple_ndarray_program_inner r)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(rewrite (tuple_ndarray_program_inner (TupleNDArray___init__ x)) (Program___add__ (ndarray_program x) (Program___init__ "," false)) :ruleset ruleset_5064591888)
(rewrite (tuple_ndarray_program_inner (TupleNDArray___add__ l r)) (Program___add__ (Program___add__ (tuple_ndarray_program_inner l) (Program___init__ " " false)) (tuple_ndarray_program_inner r)) :ruleset ruleset_5064591888)
(function TupleNDArray_length (TupleNDArray) Int)
(rewrite (int_program (TupleNDArray_length l)) (Program___add__ (Program___add__ (Program___init__ "len(" false) (tuple_ndarray_program l)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(rewrite (ndarray_program (TupleNDArray___getitem__ l i)) (Program___add__ (Program___add__ (Program___add__ (tuple_ndarray_program l) (Program___init__ "[" false)) (int_program i)) (Program___init__ "]" false)) :ruleset ruleset_5064591888)
(function tuple_value_program_inner (TupleValue) Program)
(rewrite (tuple_value_program tv1) (Program___add__ (Program___add__ (Program___init__ "(" false) (tuple_value_program_inner tv1)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(rewrite (tuple_value_program_inner (TupleValue___add__ tv1 tv2)) (Program___add__ (Program___add__ (tuple_value_program_inner tv1) (Program___init__ " " false)) (tuple_value_program_inner tv2)) :ruleset ruleset_5064591888)
(rewrite (tuple_value_program_inner (TupleValue___init__ v)) (Program___add__ (value_program v) (Program___init__ "," false)) :ruleset ruleset_5064591888)
(rewrite (value_program (Value_int i)) (int_program i) :ruleset ruleset_5064591888)
(function Value_bool (Boolean) Value)
(function bool_program (Boolean) Program)
(rewrite (value_program (Value_bool b)) (bool_program b) :ruleset ruleset_5064591888)
(function float_program (Float) Program)
(rewrite (value_program (Value_float f)) (float_program f) :ruleset ruleset_5064591888)
(rewrite (value_program (NDArray_to_value x)) (ndarray_program x) :ruleset ruleset_5064591888)
(function Value___lt__ (Value Value) Value)
(rewrite (value_program (Value___lt__ v1 v2)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (value_program v1)) (Program___init__ " < " false)) (value_program v2)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Value___truediv__ (Value Value) Value)
(rewrite (value_program (Value___truediv__ v1 v2)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (value_program v1)) (Program___init__ " / " false)) (value_program v2)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Value_to_bool (Value) Boolean)
(rewrite (bool_program (Value_to_bool v1)) (value_program v1) :ruleset ruleset_5064591888)
(rewrite (int_program (Value_to_int v1)) (value_program v1) :ruleset ruleset_5064591888)
(rewrite (float_program (Float___init__ f64_)) (Program___init__ (to-string f64_) false) :ruleset ruleset_5064591888)
(function Float_abs (Float) Float)
(rewrite (float_program (Float_abs f)) (Program___add__ (Program___add__ (Program___init__ "np.abs(" false) (float_program f)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Float_from_int (Int) Float)
(rewrite (float_program (Float_from_int i)) (int_program i) :ruleset ruleset_5064591888)
(function Float___add__ (Float Float) Float)
(rewrite (float_program (Float___add__ f g)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (float_program f)) (Program___init__ " + " false)) (float_program g)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Float___sub__ (Float Float) Float)
(rewrite (float_program (Float___sub__ f g)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (float_program f)) (Program___init__ " - " false)) (float_program g)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Float___mul__ (Float Float) Float)
(rewrite (float_program (Float___mul__ f g)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (float_program f)) (Program___init__ " * " false)) (float_program g)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Float___truediv__ (Float Float) Float)
(rewrite (float_program (Float___truediv__ f g)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (float_program f)) (Program___init__ " / " false)) (float_program g)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(rewrite (float_program (Float_rational r)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "float(" false) (Program___init__ (to-string (numer r)) false)) (Program___init__ " / " false)) (Program___init__ (to-string (denom r)) false)) (Program___init__ ")" false)) :when ((!= (denom r) %__expr_-3240316658536798486)) :ruleset ruleset_5064591888)
(rewrite (float_program (Float_rational r)) (Program___add__ (Program___add__ (Program___init__ "float(" false) (Program___init__ (to-string (numer r)) false)) (Program___init__ ")" false)) :when ((= (denom r) %__expr_-3240316658536798486)) :ruleset ruleset_5064591888)
(rewrite (dtype_program %__expr_4101187900440652363) (Program___init__ "np.dtype(np.float64)" false) :ruleset ruleset_5064591888)
(function DType_float32 () DType)
(rewrite (dtype_program (DType_float32)) (Program___init__ "np.dtype(np.float32)" false) :ruleset ruleset_5064591888)
(rewrite (dtype_program (DType_int64)) (Program___init__ "np.dtype(np.int64)" false) :ruleset ruleset_5064591888)
(rewrite (dtype_program %__expr_-5559224042962614522) (Program___init__ "np.dtype(np.int32)" false) :ruleset ruleset_5064591888)
(function DType_bool () DType)
(rewrite (dtype_program (DType_bool)) (Program___init__ "np.dtype(np.bool)" false) :ruleset ruleset_5064591888)
(function DType_object () DType)
(rewrite (dtype_program (DType_object)) (Program___init__ "np.dtype(np.object_)" false) :ruleset ruleset_5064591888)
(function Program_function_two (Program Program Program String) Program)
(sort UnstableFn_Int_Int (UnstableFn (Int) Int))
(function idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i_%__expr_-3636589015846229112__ (UnstableFn_Int_Int Int) Int)
(rewrite (idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i_%__expr_-3636589015846229112__ idx_fn i) (unstable-app idx_fn (Int___add__ i %__expr_-3636589015846229112)) :ruleset ruleset_5064591888)
(rewrite (int_program (TupleInt___getitem__ ti i)) (Program___add__ (Program___add__ (Program___add__ (tuple_int_program ti) (Program___init__ "[" false)) (int_program i)) (Program___init__ "]" false)) :ruleset ruleset_5064591888)
(function TupleInt_length (TupleInt) Int)
(rewrite (int_program (TupleInt_length ti)) (Program___add__ (Program___add__ (Program___init__ "len(" false) (tuple_int_program ti)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function tuple_int_program_inner (TupleInt) Program)
(rewrite (tuple_int_program ti) (Program___add__ (Program___add__ (Program___init__ "(" false) (tuple_int_program_inner ti)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function TupleInt___init__ (Int UnstableFn_Int_Int) TupleInt :unextractable)
(rewrite (tuple_int_program_inner (TupleInt___init__ %__expr_-4671014753414284575 idx_fn)) (Program___init__ "" false) :ruleset ruleset_5064591888)
(rewrite (tuple_int_program_inner (TupleInt___init__ (Int___init__ k) idx_fn)) (Program___add__ (Program___add__ (int_program (unstable-app idx_fn %__expr_-4671014753414284575)) (Program___init__ ", " false)) (tuple_int_program_inner (TupleInt___init__ (Int___init__ (- k %__expr_-3240316658536798486)) (unstable-fn "idx_fn-UnstableFn_Int_Int_i-Int__unstable-app_idx_fn__Int___add___i_%__expr_-3636589015846229112__" idx_fn)))) :when ((!= k 0)) :ruleset ruleset_5064591888)
(rewrite (tuple_int_program_inner (TupleInt_from_vec (vec-of))) (Program___init__ "" false) :ruleset ruleset_5064591888)
(rewrite (tuple_int_program_inner (TupleInt_from_vec vec_int)) (Program___add__ (Program___add__ (int_program (vec-get vec_int 0)) (Program___init__ ", " false)) (tuple_int_program_inner (TupleInt_from_vec (vec-remove vec_int 0)))) :when ((> (vec-length vec_int) %__expr_-3240316658536798486)) :ruleset ruleset_5064591888)
(rewrite (tuple_int_program_inner (TupleInt_from_vec vec_int)) (Program___add__ (int_program (vec-get vec_int 0)) (Program___init__ "," false)) :when ((= (vec-length vec_int) %__expr_-3240316658536798486)) :ruleset ruleset_5064591888)
(rewrite (int_program (Int___init__ i64_)) (Program___init__ (to-string i64_) false) :ruleset ruleset_5064591888)
(function Int___invert__ (Int) Int)
(rewrite (int_program (Int___invert__ i)) (Program___add__ (Program___init__ "~" false) (int_program i)) :ruleset ruleset_5064591888)
(function Int___lt__ (Int Int) Boolean)
(rewrite (bool_program (Int___lt__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " < " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___le__ (Int Int) Boolean)
(rewrite (bool_program (Int___le__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " <= " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___gt__ (Int Int) Boolean)
(rewrite (bool_program (Int___gt__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " > " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___ge__ (Int Int) Boolean)
(rewrite (bool_program (Int___ge__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " >= " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___eq__ (Int Int) Boolean)
(rewrite (bool_program (Int___eq__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " == " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(rewrite (int_program (Int___add__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " + " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___sub__ (Int Int) Int)
(rewrite (int_program (Int___sub__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " - " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___mul__ (Int Int) Int)
(rewrite (int_program (Int___mul__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " * " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___truediv__ (Int Int) Int)
(rewrite (int_program (Int___truediv__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " / " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___mod__ (Int Int) Int)
(rewrite (int_program (Int___mod__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " % " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___pow__ (Int Int) Int)
(rewrite (int_program (Int___pow__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " ** " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___and__ (Int Int) Int)
(rewrite (int_program (Int___and__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " & " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___or__ (Int Int) Int)
(rewrite (int_program (Int___or__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " | " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___xor__ (Int Int) Int)
(rewrite (int_program (Int___xor__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " ^ " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___lshift__ (Int Int) Int)
(rewrite (int_program (Int___lshift__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " << " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___rshift__ (Int Int) Int)
(rewrite (int_program (Int___rshift__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " >> " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(function Int___floordiv__ (Int Int) Int)
(rewrite (int_program (Int___floordiv__ i j)) (Program___add__ (Program___add__ (Program___add__ (Program___add__ (Program___init__ "(" false) (int_program i)) (Program___init__ " // " false)) (int_program j)) (Program___init__ ")" false)) :ruleset ruleset_5064591888)
(rewrite (bool_program (TRUE)) (Program___init__ "True" false) :ruleset ruleset_5064591888)
(rewrite (bool_program %__expr_-3045893352967658126) (Program___init__ "False" false) :ruleset ruleset_5064591888)
(ruleset ruleset_5063997584)
(function Program_expr (Program) String)
(function Program_statements (Program) String)
(function Program_next_sym (Program) i64)
(function Program_is_identifer (Program) bool)
(function Program_compile (Program i64) Unit :default ())
(rule ((= p (Program___init__ s b))
       (Program_compile p i))
      ((set (Program_expr p) s)
       (set (Program_statements p) "")
       (set (Program_next_sym p) i)
       (set (Program_is_identifer p) b))
        :ruleset ruleset_5063997584 )
(function Program_expr_to_statement (Program) Program)
(rewrite (Program_statement p1 p2) (Program___add__ p1 (Program_expr_to_statement p2)) :ruleset ruleset_5063997584)
(function Program_parent (Program) Program :unextractable :merge old)
(rule ((= p (Program_expr_to_statement p1))
       (Program_compile p i))
      ((set (Program_parent p1) p)
       (set (Program_is_identifer p) false))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_expr_to_statement p1))
       (Program_compile p i)
       (= (Program_parent p1) p))
      ((Program_compile p1 i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_expr_to_statement p1))
       (Program_compile p i)
       (!= (Program_parent p1) p)
       (= s1 (Program_expr p1)))
      ((set (Program_statements p) (+ s1 "
"))
       (set (Program_next_sym p) i)
       (set (Program_expr p) ""))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_expr_to_statement p1))
       (= (Program_parent p1) p)
       (= s1 (Program_expr p1))
       (= s2 (Program_statements p1))
       (= i (Program_next_sym p1)))
      ((set (Program_statements p) (+ s2 s1 "
"))
       (set (Program_next_sym p) i)
       (set (Program_expr p) ""))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (= (Program_expr p) (Program_expr p1))
       (= b (Program_is_identifer p1)))
      ((set (Program_is_identifer p) b))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (= (Program_expr p) (Program_expr p2))
       (= b (Program_is_identifer p2)))
      ((set (Program_is_identifer p) b))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (!= (Program_expr p) (Program_expr p1))
       (!= (Program_expr p) (Program_expr p2)))
      ((set (Program_is_identifer p) false))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (Program_compile p i))
      ((set (Program_parent p1) p))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (Program_compile p i)
       (= (Program_parent p1) p))
      ((Program_compile p1 i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (Program_compile p i)
       (Program_next_sym p1))
      ((set (Program_parent p2) p))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (Program_compile p i)
       (!= (Program_parent p1) p)
       (= (Program_parent p2) p))
      ((Program_compile p2 i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (Program_compile p i2)
       (= (Program_parent p1) p)
       (= i (Program_next_sym p1))
       (= (Program_parent p2) p))
      ((Program_compile p2 i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (= s1 (Program_expr p1))
       (= s2 (Program_expr p2)))
      ((set (Program_expr p) (+ s1 s2)))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (= (Program_parent p1) p)
       (= (Program_parent p2) p)
       (= s1 (Program_statements p1))
       (= s2 (Program_statements p2))
       (= i (Program_next_sym p2)))
      ((set (Program_statements p) (+ s1 s2))
       (set (Program_next_sym p) i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (Program_compile p i)
       (!= (Program_parent p1) p)
       (!= (Program_parent p2) p))
      ((set (Program_statements p) "")
       (set (Program_next_sym p) i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (= (Program_parent p1) p)
       (!= (Program_parent p2) p)
       (= s1 (Program_statements p1))
       (= i (Program_next_sym p1)))
      ((set (Program_statements p) s1)
       (set (Program_next_sym p) i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program___add__ p1 p2))
       (= (Program_parent p2) p)
       (!= (Program_parent p1) p)
       (= s2 (Program_statements p2))
       (= i (Program_next_sym p2)))
      ((set (Program_statements p) s2)
       (set (Program_next_sym p) i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_assign p1))
       (Program_compile p i))
      ((set (Program_parent p1) p)
       (set (Program_is_identifer p) true))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_assign p1))
       (Program_compile p i)
       (= (Program_parent p1) p))
      ((Program_compile p1 i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_assign p1))
       (= (Program_parent p1) p)
       (= s1 (Program_statements p1))
       (= i (Program_next_sym p1))
       (= s2 (Program_expr p1))
       (= (Program_is_identifer p1) false))
      ((set (Program_statements p) (+ s1 (+ "_" (to-string i)) " = " s2 "
"))
       (set (Program_expr p) (+ "_" (to-string i)))
       (set (Program_next_sym p) (+ i %__expr_-3240316658536798486)))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_assign p1))
       (!= (Program_parent p1) p)
       (Program_compile p i)
       (= s2 (Program_expr p1))
       (= (Program_is_identifer p1) false))
      ((set (Program_statements p) (+ (+ "_" (to-string i)) " = " s2 "
"))
       (set (Program_expr p) (+ "_" (to-string i)))
       (set (Program_next_sym p) (+ i %__expr_-3240316658536798486)))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_assign p1))
       (= (Program_parent p1) p)
       (= s1 (Program_statements p1))
       (= i (Program_next_sym p1))
       (= s2 (Program_expr p1))
       (= (Program_is_identifer p1) true))
      ((set (Program_statements p) s1)
       (set (Program_expr p) s2)
       (set (Program_next_sym p) i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_assign p1))
       (!= (Program_parent p1) p)
       (Program_compile p i)
       (= s2 (Program_expr p1))
       (= (Program_is_identifer p1) true))
      ((set (Program_statements p) "")
       (set (Program_expr p) s2)
       (set (Program_next_sym p) i))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_function_two p1 p2 p3 s1))
       (Program_compile p i))
      ((set (Program_parent p2) p)
       (set (Program_parent p3) p)
       (set (Program_parent p1) p)
       (Program_compile p2 i)
       (Program_compile p3 i)
       (Program_compile p1 i)
       (set (Program_is_identifer p) true))
        :ruleset ruleset_5063997584 )
(rule ((= p (Program_function_two p1 p2 p3 s1))
       (Program_compile p i)
       (= s2 (Program_expr p1))
       (= s3 (Program_statements p1))
       (= s4 (Program_expr p2))
       (= s5 (Program_expr p3)))
      ((set (Program_statements p) (+ "def " s1 "(" s4 ", " s5 "):
    " (replace s3 "
" "
    ") "return " s2 "
"))
       (set (Program_next_sym p) i)
       (set (Program_expr p) s1))
        :ruleset ruleset_5063997584 )
(rule ((= f (ndarray_function_two res l r)))
      ((union f (Program_function_two (ndarray_program res) (ndarray_program l) (ndarray_program r) "__fn"))
       (Program_compile f 0))
        :ruleset ruleset_5064591888 )
(run-schedule (seq (saturate (run ruleset_5064591888)) (saturate (run ruleset_5063997584))))
(extract (Program_statements %fn_program) 0)
